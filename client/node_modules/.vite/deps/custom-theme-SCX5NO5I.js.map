{
  "version": 3,
  "sources": ["../../@atlaskit/tokens/dist/esm/artifacts/atlassian-dark-token-value-for-contrast-check.js", "../../@atlaskit/tokens/dist/esm/artifacts/atlassian-light-token-value-for-contrast-check.js", "../../@atlaskit/tokens/dist/esm/utils/custom-theme-token-contrast-check.js", "../../@atlaskit/tokens/dist/esm/utils/hct-color-utils/math-utils.js", "../../@atlaskit/tokens/dist/esm/utils/hct-color-utils/color-utils.js", "../../@atlaskit/tokens/dist/esm/utils/hct-color-utils/hct.js", "../../@atlaskit/tokens/dist/esm/utils/hct-color-utils/contrast.js", "../../@atlaskit/tokens/dist/esm/utils/generate-custom-color-ramp.js", "../../@atlaskit/tokens/dist/esm/custom-theme.js"],
  "sourcesContent": ["/**\r\n * THIS FILE WAS CREATED VIA CODEGEN DO NOT MODIFY {@see http://go/af-codegen}\r\n *\r\n * Token names mapped to their values, used for contrast checking when generating custom themes\r\n *\r\n * @codegen <<SignedSource::5aed53e696137cdd59ece99fb9755c09>>\r\n * @codegenCommand yarn build tokens\r\n */\r\nvar tokenValues = {\r\n  'color.text.brand': '#579DFF',\r\n  'elevation.surface.overlay': '#282E33',\r\n  'color.background.selected': '#092957',\r\n  'color.text.selected': '#579DFF',\r\n  'color.border.brand': '#579DFF',\r\n  'color.chart.brand': '#388BFF',\r\n  'color.text.inverse': '#1D2125'\r\n};\r\nexport default tokenValues;", "/**\r\n * THIS FILE WAS CREATED VIA CODEGEN DO NOT MODIFY {@see http://go/af-codegen}\r\n *\r\n * Token names mapped to their values, used for contrast checking when generating custom themes\r\n *\r\n * @codegen <<SignedSource::2e18f7ef8f76f499aeeb6d93e94be25e>>\r\n * @codegenCommand yarn build tokens\r\n */\r\nvar tokenValues = {\r\n  'color.text.brand': '#0C66E4',\r\n  'elevation.surface.sunken': '#F7F8F9',\r\n  'color.background.selected': '#E9F2FF',\r\n  'color.text.selected': '#0C66E4',\r\n  'color.border.brand': '#0C66E4',\r\n  'color.chart.brand': '#1D7AFC',\r\n  'color.text.inverse': '#FFFFFF'\r\n};\r\nexport default tokenValues;", "import tokenValuesDark from '../artifacts/atlassian-dark-token-value-for-contrast-check';\r\nimport tokenValuesLight from '../artifacts/atlassian-light-token-value-for-contrast-check';\r\nimport { getContrastRatio } from './color-utils';\r\nexport var additionalChecks = [{\r\n  foreground: 'color.text.brand',\r\n  backgroundLight: 'elevation.surface.sunken',\r\n  backgroundDark: 'elevation.surface.overlay',\r\n  desiredContrast: 4.5,\r\n  updatedTokens: [\r\n  // In light mode: darken the following tokens by one base token\r\n  // In dark mode: lighten the following tokens by one base token\r\n  'color.text.brand', 'color.text.selected', 'color.link', 'color.link.pressed', 'color.icon.brand', 'color.icon.selected']\r\n}, {\r\n  foreground: 'color.text.brand',\r\n  backgroundLight: 'color.background.selected',\r\n  backgroundDark: 'color.background.selected',\r\n  desiredContrast: 4.5,\r\n  // In light mode: darken the following tokens by one base token\r\n  // In dark mode: lighten the following tokens by one base toke\r\n  updatedTokens: ['color.text.brand', 'color.link', 'color.link.pressed']\r\n}, {\r\n  foreground: 'color.text.selected',\r\n  backgroundLight: 'color.background.selected',\r\n  backgroundDark: 'color.background.selected',\r\n  desiredContrast: 4.5,\r\n  // In light mode: darken the following tokens by one base token\r\n  // In dark mode: lighten the following tokens by one base token\r\n  updatedTokens: ['color.text.selected', 'color.icon.selected']\r\n}, {\r\n  foreground: 'color.border.brand',\r\n  backgroundLight: 'elevation.surface.sunken',\r\n  backgroundDark: 'elevation.surface.overlay',\r\n  desiredContrast: 3,\r\n  // In light mode: darken the following tokens by one base token\r\n  // In dark mode: lighten the following tokens by one base toke\r\n  updatedTokens: ['color.border.brand', 'color.border.selected']\r\n}, {\r\n  foreground: 'color.chart.brand',\r\n  backgroundLight: 'elevation.surface.sunken',\r\n  backgroundDark: 'elevation.surface.overlay',\r\n  desiredContrast: 3,\r\n  // In light mode: darken the following tokens by one base token\r\n  // In dark mode: lighten the following tokens by one base token\r\n  updatedTokens: ['color.chart.brand', 'color.chart.brand.hovered']\r\n}];\r\nvar getColorFromTokenRaw = function getColorFromTokenRaw(tokenName, mode) {\r\n  return mode === 'light' ? tokenValuesLight[tokenName] : tokenValuesDark[tokenName];\r\n};\r\nexport var additionalContrastChecker = function additionalContrastChecker(_ref) {\r\n  var customThemeTokenMap = _ref.customThemeTokenMap,\r\n    mode = _ref.mode,\r\n    themeRamp = _ref.themeRamp;\r\n  var updatedCustomThemeTokenMap = {};\r\n  var brandTokens = Object.keys(customThemeTokenMap);\r\n  additionalChecks.forEach(function (pairing) {\r\n    var backgroundLight = pairing.backgroundLight,\r\n      backgroundDark = pairing.backgroundDark,\r\n      foreground = pairing.foreground,\r\n      desiredContrast = pairing.desiredContrast,\r\n      updatedTokens = pairing.updatedTokens;\r\n    var background = mode === 'light' ? backgroundLight : backgroundDark;\r\n    var foregroundTokenValue = customThemeTokenMap[foreground];\r\n    var backgroundTokenValue = customThemeTokenMap[background];\r\n    var foregroundColor = brandTokens.includes(foreground) ? typeof foregroundTokenValue === 'string' ? foregroundTokenValue : themeRamp[foregroundTokenValue] : getColorFromTokenRaw(foreground, mode);\r\n    var backgroundColor = brandTokens.includes(background) ? typeof backgroundTokenValue === 'string' ? backgroundTokenValue : themeRamp[backgroundTokenValue] : getColorFromTokenRaw(background, mode);\r\n    var contrast = getContrastRatio(foregroundColor, backgroundColor);\r\n    if (contrast <= desiredContrast) {\r\n      updatedTokens.forEach(function (token) {\r\n        var rampValue = customThemeTokenMap[token];\r\n        if (typeof rampValue === 'number') {\r\n          updatedCustomThemeTokenMap[token] = mode === 'light' ? rampValue + 1 : rampValue - 1;\r\n        }\r\n      });\r\n    }\r\n  });\r\n  return updatedCustomThemeTokenMap;\r\n};", "/**\r\n * Below lines are copied from @material/material-color-utilities.\r\n * Do not modify it.\r\n */\r\n\r\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n// This file is automatically generated. Do not modify it.\r\n\r\n/**\r\n * Utility methods for mathematical operations.\r\n */\r\n\r\n/**\r\n * The signum function.\r\n *\r\n * @return 1 if num > 0, -1 if num < 0, and 0 if num = 0\r\n */\r\nexport function signum(num) {\r\n  if (num < 0) {\r\n    return -1;\r\n  } else if (num === 0) {\r\n    return 0;\r\n  } else {\r\n    return 1;\r\n  }\r\n}\r\n\r\n/**\r\n * The linear interpolation function.\r\n *\r\n * @return start if amount = 0 and stop if amount = 1\r\n */\r\nexport function lerp(start, stop, amount) {\r\n  return (1.0 - amount) * start + amount * stop;\r\n}\r\n\r\n/**\r\n * Clamps an integer between two integers.\r\n *\r\n * @return input when min <= input <= max, and either min or max\r\n * otherwise.\r\n */\r\nexport function clampInt(min, max, input) {\r\n  if (input < min) {\r\n    return min;\r\n  } else if (input > max) {\r\n    return max;\r\n  }\r\n  return input;\r\n}\r\n\r\n/**\r\n * Clamps an integer between two floating-point numbers.\r\n *\r\n * @return input when min <= input <= max, and either min or max\r\n * otherwise.\r\n */\r\nexport function clampDouble(min, max, input) {\r\n  if (input < min) {\r\n    return min;\r\n  } else if (input > max) {\r\n    return max;\r\n  }\r\n  return input;\r\n}\r\n\r\n/**\r\n * Sanitizes a degree measure as an integer.\r\n *\r\n * @return a degree measure between 0 (inclusive) and 360\r\n * (exclusive).\r\n */\r\nexport function sanitizeDegreesInt(degrees) {\r\n  degrees = degrees % 360;\r\n  if (degrees < 0) {\r\n    degrees = degrees + 360;\r\n  }\r\n  return degrees;\r\n}\r\n\r\n/**\r\n * Sanitizes a degree measure as a floating-point number.\r\n *\r\n * @return a degree measure between 0.0 (inclusive) and 360.0\r\n * (exclusive).\r\n */\r\nexport function sanitizeDegreesDouble(degrees) {\r\n  degrees = degrees % 360.0;\r\n  if (degrees < 0) {\r\n    degrees = degrees + 360.0;\r\n  }\r\n  return degrees;\r\n}\r\n\r\n/**\r\n * Sign of direction change needed to travel from one angle to\r\n * another.\r\n *\r\n * For angles that are 180 degrees apart from each other, both\r\n * directions have the same travel distance, so either direction is\r\n * shortest. The value 1.0 is returned in this case.\r\n *\r\n * @param from The angle travel starts from, in degrees.\r\n * @param to The angle travel ends at, in degrees.\r\n * @return -1 if decreasing from leads to the shortest travel\r\n * distance, 1 if increasing from leads to the shortest travel\r\n * distance.\r\n */\r\nexport function rotationDirection(from, to) {\r\n  var increasingDifference = sanitizeDegreesDouble(to - from);\r\n  return increasingDifference <= 180.0 ? 1.0 : -1.0;\r\n}\r\n\r\n/**\r\n * Distance of two points on a circle, represented using degrees.\r\n */\r\nexport function differenceDegrees(a, b) {\r\n  return 180.0 - Math.abs(Math.abs(a - b) - 180.0);\r\n}\r\n\r\n/**\r\n * Multiplies a 1x3 row vector with a 3x3 matrix.\r\n */\r\nexport function matrixMultiply(row, matrix) {\r\n  var a = row[0] * matrix[0][0] + row[1] * matrix[0][1] + row[2] * matrix[0][2];\r\n  var b = row[0] * matrix[1][0] + row[1] * matrix[1][1] + row[2] * matrix[1][2];\r\n  var c = row[0] * matrix[2][0] + row[1] * matrix[2][1] + row[2] * matrix[2][2];\r\n  return [a, b, c];\r\n}", "/**\r\n * Below lines are copied from @material/material-color-utilities.\r\n * Do not modify it.\r\n */\r\n\r\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n// This file is automatically generated. Do not modify it.\r\n\r\nimport * as mathUtils from './math-utils';\r\n\r\n/**\r\n * Color science utilities.\r\n *\r\n * Utility methods for color science constants and color space\r\n * conversions that aren't HCT or CAM16.\r\n */\r\n\r\nvar SRGB_TO_XYZ = [[0.41233895, 0.35762064, 0.18051042], [0.2126, 0.7152, 0.0722], [0.01932141, 0.11916382, 0.95034478]];\r\nvar XYZ_TO_SRGB = [[3.2413774792388685, -1.5376652402851851, -0.49885366846268053], [-0.9691452513005321, 1.8758853451067872, 0.04156585616912061], [0.05562093689691305, -0.20395524564742123, 1.0571799111220335]];\r\nvar WHITE_POINT_D65 = [95.047, 100.0, 108.883];\r\n\r\n/**\r\n * Converts a color from RGB components to ARGB format.\r\n */\r\nexport function argbFromRgb(red, green, blue) {\r\n  return (255 << 24 | (red & 255) << 16 | (green & 255) << 8 | blue & 255) >>> 0;\r\n}\r\n\r\n/**\r\n * Converts a color from linear RGB components to ARGB format.\r\n */\r\nexport function argbFromLinrgb(linrgb) {\r\n  var r = delinearized(linrgb[0]);\r\n  var g = delinearized(linrgb[1]);\r\n  var b = delinearized(linrgb[2]);\r\n  return argbFromRgb(r, g, b);\r\n}\r\n\r\n/**\r\n * Returns the alpha component of a color in ARGB format.\r\n */\r\nexport function alphaFromArgb(argb) {\r\n  return argb >> 24 & 255;\r\n}\r\n\r\n/**\r\n * Returns the red component of a color in ARGB format.\r\n */\r\nexport function redFromArgb(argb) {\r\n  return argb >> 16 & 255;\r\n}\r\n\r\n/**\r\n * Returns the green component of a color in ARGB format.\r\n */\r\nexport function greenFromArgb(argb) {\r\n  return argb >> 8 & 255;\r\n}\r\n\r\n/**\r\n * Returns the blue component of a color in ARGB format.\r\n */\r\nexport function blueFromArgb(argb) {\r\n  return argb & 255;\r\n}\r\n\r\n/**\r\n * Returns whether a color in ARGB format is opaque.\r\n */\r\nexport function isOpaque(argb) {\r\n  return alphaFromArgb(argb) >= 255;\r\n}\r\n\r\n/**\r\n * Converts a color from ARGB to XYZ.\r\n */\r\nexport function argbFromXyz(x, y, z) {\r\n  var matrix = XYZ_TO_SRGB;\r\n  var linearR = matrix[0][0] * x + matrix[0][1] * y + matrix[0][2] * z;\r\n  var linearG = matrix[1][0] * x + matrix[1][1] * y + matrix[1][2] * z;\r\n  var linearB = matrix[2][0] * x + matrix[2][1] * y + matrix[2][2] * z;\r\n  var r = delinearized(linearR);\r\n  var g = delinearized(linearG);\r\n  var b = delinearized(linearB);\r\n  return argbFromRgb(r, g, b);\r\n}\r\n\r\n/**\r\n * Converts a color from XYZ to ARGB.\r\n */\r\nexport function xyzFromArgb(argb) {\r\n  var r = linearized(redFromArgb(argb));\r\n  var g = linearized(greenFromArgb(argb));\r\n  var b = linearized(blueFromArgb(argb));\r\n  return mathUtils.matrixMultiply([r, g, b], SRGB_TO_XYZ);\r\n}\r\n\r\n/**\r\n * Converts an L* value to an ARGB representation.\r\n *\r\n * @param lstar L* in L*a*b*\r\n * @return ARGB representation of grayscale color with lightness\r\n * matching L*\r\n */\r\nexport function argbFromLstar(lstar) {\r\n  var y = yFromLstar(lstar);\r\n  var component = delinearized(y);\r\n  return argbFromRgb(component, component, component);\r\n}\r\n\r\n/**\r\n * Computes the L* value of a color in ARGB representation.\r\n *\r\n * @param argb ARGB representation of a color\r\n * @return L*, from L*a*b*, coordinate of the color\r\n */\r\nexport function lstarFromArgb(argb) {\r\n  var y = xyzFromArgb(argb)[1];\r\n  return 116.0 * labF(y / 100.0) - 16.0;\r\n}\r\n\r\n/**\r\n * Converts an L* value to a Y value.\r\n *\r\n * L* in L*a*b* and Y in XYZ measure the same quantity, luminance.\r\n *\r\n * L* measures perceptual luminance, a linear scale. Y in XYZ\r\n * measures relative luminance, a logarithmic scale.\r\n *\r\n * @param lstar L* in L*a*b*\r\n * @return Y in XYZ\r\n */\r\nexport function yFromLstar(lstar) {\r\n  return 100.0 * labInvf((lstar + 16.0) / 116.0);\r\n}\r\n\r\n/**\r\n * Converts a Y value to an L* value.\r\n *\r\n * L* in L*a*b* and Y in XYZ measure the same quantity, luminance.\r\n *\r\n * L* measures perceptual luminance, a linear scale. Y in XYZ\r\n * measures relative luminance, a logarithmic scale.\r\n *\r\n * @param y Y in XYZ\r\n * @return L* in L*a*b*\r\n */\r\nexport function lstarFromY(y) {\r\n  return labF(y / 100.0) * 116.0 - 16.0;\r\n}\r\n\r\n/**\r\n * Linearizes an RGB component.\r\n *\r\n * @param rgbComponent 0 <= rgb_component <= 255, represents R/G/B\r\n * channel\r\n * @return 0.0 <= output <= 100.0, color channel converted to\r\n * linear RGB space\r\n */\r\nexport function linearized(rgbComponent) {\r\n  var normalized = rgbComponent / 255.0;\r\n  if (normalized <= 0.040449936) {\r\n    return normalized / 12.92 * 100.0;\r\n  } else {\r\n    return Math.pow((normalized + 0.055) / 1.055, 2.4) * 100.0;\r\n  }\r\n}\r\n\r\n/**\r\n * Delinearizes an RGB component.\r\n *\r\n * @param rgbComponent 0.0 <= rgb_component <= 100.0, represents\r\n * linear R/G/B channel\r\n * @return 0 <= output <= 255, color channel converted to regular\r\n * RGB space\r\n */\r\nexport function delinearized(rgbComponent) {\r\n  var normalized = rgbComponent / 100.0;\r\n  var delinearized = 0.0;\r\n  if (normalized <= 0.0031308) {\r\n    delinearized = normalized * 12.92;\r\n  } else {\r\n    delinearized = 1.055 * Math.pow(normalized, 1.0 / 2.4) - 0.055;\r\n  }\r\n  return mathUtils.clampInt(0, 255, Math.round(delinearized * 255.0));\r\n}\r\n\r\n/**\r\n * Returns the standard white point; white on a sunny day.\r\n *\r\n * @return The white point\r\n */\r\nexport function whitePointD65() {\r\n  return WHITE_POINT_D65;\r\n}\r\n\r\n/**\r\n * RGBA component\r\n *\r\n * @param r Red value should be between 0-255\r\n * @param g Green value should be between 0-255\r\n * @param b Blue value should be between 0-255\r\n * @param a Alpha value should be between 0-255\r\n */\r\n\r\n/**\r\n * Return RGBA from a given int32 color\r\n *\r\n * @param argb ARGB representation of a int32 color.\r\n * @return RGBA representation of a int32 color.\r\n */\r\nexport function rgbaFromArgb(argb) {\r\n  var r = redFromArgb(argb);\r\n  var g = greenFromArgb(argb);\r\n  var b = blueFromArgb(argb);\r\n  var a = alphaFromArgb(argb);\r\n  return {\r\n    r: r,\r\n    g: g,\r\n    b: b,\r\n    a: a\r\n  };\r\n}\r\n\r\n/**\r\n * Return int32 color from a given RGBA component\r\n *\r\n * @param rgba RGBA representation of a int32 color.\r\n * @returns ARGB representation of a int32 color.\r\n */\r\nexport function argbFromRgba(_ref) {\r\n  var r = _ref.r,\r\n    g = _ref.g,\r\n    b = _ref.b,\r\n    a = _ref.a;\r\n  var rValue = clampComponent(r);\r\n  var gValue = clampComponent(g);\r\n  var bValue = clampComponent(b);\r\n  var aValue = clampComponent(a);\r\n  return aValue << 24 | rValue << 16 | gValue << 8 | bValue;\r\n}\r\nfunction clampComponent(value) {\r\n  if (value < 0) {\r\n    return 0;\r\n  }\r\n  if (value > 255) {\r\n    return 255;\r\n  }\r\n  return value;\r\n}\r\nfunction labF(t) {\r\n  var e = 216.0 / 24389.0;\r\n  var kappa = 24389.0 / 27.0;\r\n  if (t > e) {\r\n    return Math.pow(t, 1.0 / 3.0);\r\n  } else {\r\n    return (kappa * t + 16) / 116;\r\n  }\r\n}\r\nfunction labInvf(ft) {\r\n  var e = 216.0 / 24389.0;\r\n  var kappa = 24389.0 / 27.0;\r\n  var ft3 = ft * ft * ft;\r\n  if (ft3 > e) {\r\n    return ft3;\r\n  } else {\r\n    return (116 * ft - 16) / kappa;\r\n  }\r\n}", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\r\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/createClass\";\r\nvar _class2;\r\n/**\r\n * Below lines are copied from @material/material-color-utilities.\r\n * Do not modify it.\r\n */\r\n\r\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as utils from './color-utils';\r\nimport * as math from './math-utils';\r\n\r\n/**\r\n * A color system built using CAM16 hue and chroma, and L* from\r\n * L*a*b*.\r\n *\r\n * Using L* creates a link between the color system, contrast, and thus\r\n * accessibility. Contrast ratio depends on relative luminance, or Y in the XYZ\r\n * color space. L*, or perceptual luminance can be calculated from Y.\r\n *\r\n * Unlike Y, L* is linear to human perception, allowing trivial creation of\r\n * accurate color tones.\r\n *\r\n * Unlike contrast ratio, measuring contrast in L* is linear, and simple to\r\n * calculate. A difference of 40 in HCT tone guarantees a contrast ratio >= 3.0,\r\n * and a difference of 50 guarantees a contrast ratio >= 4.5.\r\n */\r\n\r\n/**\r\n * HCT, hue, chroma, and tone. A color system that provides a perceptually\r\n * accurate color measurement system that can also accurately render what colors\r\n * will appear as in different lighting environments.\r\n */\r\nexport var Hct = /*#__PURE__*/function () {\r\n  function Hct(argb) {\r\n    _classCallCheck(this, Hct);\r\n    this.argb = argb;\r\n    var cam = Cam16.fromInt(argb);\r\n    this.internalHue = cam.hue;\r\n    this.internalChroma = cam.chroma;\r\n    this.internalTone = utils.lstarFromArgb(argb);\r\n    this.argb = argb;\r\n  }\r\n  _createClass(Hct, [{\r\n    key: \"toInt\",\r\n    value: function toInt() {\r\n      return this.argb;\r\n    }\r\n\r\n    /**\r\n     * A number, in degrees, representing ex. red, orange, yellow, etc.\r\n     * Ranges from 0 <= hue < 360.\r\n     */\r\n  }, {\r\n    key: \"hue\",\r\n    get: function get() {\r\n      return this.internalHue;\r\n    }\r\n\r\n    /**\r\n     * @param newHue 0 <= newHue < 360; invalid values are corrected.\r\n     * Chroma may decrease because chroma has a different maximum for any given\r\n     * hue and tone.\r\n     */,\r\n    set: function set(newHue) {\r\n      this.setInternalState(HctSolver.solveToInt(newHue, this.internalChroma, this.internalTone));\r\n    }\r\n  }, {\r\n    key: \"chroma\",\r\n    get: function get() {\r\n      return this.internalChroma;\r\n    }\r\n\r\n    /**\r\n     * @param newChroma 0 <= newChroma < ?\r\n     * Chroma may decrease because chroma has a different maximum for any given\r\n     * hue and tone.\r\n     */,\r\n    set: function set(newChroma) {\r\n      this.setInternalState(HctSolver.solveToInt(this.internalHue, newChroma, this.internalTone));\r\n    }\r\n\r\n    /**\r\n     * Lightness. Ranges from 0 to 100.\r\n     */\r\n  }, {\r\n    key: \"tone\",\r\n    get: function get() {\r\n      return this.internalTone;\r\n    }\r\n\r\n    /**\r\n     * @param newTone 0 <= newTone <= 100; invalid valids are corrected.\r\n     * Chroma may decrease because chroma has a different maximum for any given\r\n     * hue and tone.\r\n     */,\r\n    set: function set(newTone) {\r\n      this.setInternalState(HctSolver.solveToInt(this.internalHue, this.internalChroma, newTone));\r\n    }\r\n  }, {\r\n    key: \"setInternalState\",\r\n    value: function setInternalState(argb) {\r\n      var cam = Cam16.fromInt(argb);\r\n      this.internalHue = cam.hue;\r\n      this.internalChroma = cam.chroma;\r\n      this.internalTone = utils.lstarFromArgb(argb);\r\n      this.argb = argb;\r\n    }\r\n\r\n    /**\r\n     * Translates a color into different [ViewingConditions].\r\n     *\r\n     * Colors change appearance. They look different with lights on versus off,\r\n     * the same color, as in hex code, on white looks different when on black.\r\n     * This is called color relativity, most famously explicated by Josef Albers\r\n     * in Interaction of Color.\r\n     *\r\n     * In color science, color appearance models can account for this and\r\n     * calculate the appearance of a color in different settings. HCT is based on\r\n     * CAM16, a color appearance model, and uses it to make these calculations.\r\n     *\r\n     * See [ViewingConditions.make] for parameters affecting color appearance.\r\n     */\r\n  }, {\r\n    key: \"inViewingConditions\",\r\n    value: function inViewingConditions(vc) {\r\n      // 1. Use CAM16 to find XYZ coordinates of color in specified VC.\r\n      var cam = Cam16.fromInt(this.toInt());\r\n      var viewedInVc = cam.xyzInViewingConditions(vc);\r\n\r\n      // 2. Create CAM16 of those XYZ coordinates in default VC.\r\n      var recastInVc = Cam16.fromXyzInViewingConditions(viewedInVc[0], viewedInVc[1], viewedInVc[2], ViewingConditions.make());\r\n\r\n      // 3. Create HCT from:\r\n      // - CAM16 using default VC with XYZ coordinates in specified VC.\r\n      // - L* converted from Y in XYZ coordinates in specified VC.\r\n      var recastHct = Hct.from(recastInVc.hue, recastInVc.chroma, utils.lstarFromY(viewedInVc[1]));\r\n      return recastHct;\r\n    }\r\n  }], [{\r\n    key: \"from\",\r\n    value:\r\n    /**\r\n     * @param hue 0 <= hue < 360; invalid values are corrected.\r\n     * @param chroma 0 <= chroma < ?; Informally, colorfulness. The color\r\n     *     returned may be lower than the requested chroma. Chroma has a different\r\n     *     maximum for any given hue and tone.\r\n     * @param tone 0 <= tone <= 100; invalid values are corrected.\r\n     * @return HCT representation of a color in default viewing conditions.\r\n     */\r\n\r\n    function from(hue, chroma, tone) {\r\n      return new Hct(HctSolver.solveToInt(hue, chroma, tone));\r\n    }\r\n\r\n    /**\r\n     * @param argb ARGB representation of a color.\r\n     * @return HCT representation of a color in default viewing conditions\r\n     */\r\n  }, {\r\n    key: \"fromInt\",\r\n    value: function fromInt(argb) {\r\n      return new Hct(argb);\r\n    }\r\n  }]);\r\n  return Hct;\r\n}();\r\n\r\n/**\r\n * CAM16, a color appearance model. Colors are not just defined by their hex\r\n * code, but rather, a hex code and viewing conditions.\r\n *\r\n * CAM16 instances also have coordinates in the CAM16-UCS space, called J*, a*,\r\n * b*, or jstar, astar, bstar in code. CAM16-UCS is included in the CAM16\r\n * specification, and should be used when measuring distances between colors.\r\n *\r\n * In traditional color spaces, a color can be identified solely by the\r\n * observer's measurement of the color. Color appearance models such as CAM16\r\n * also use information about the environment where the color was\r\n * observed, known as the viewing conditions.\r\n *\r\n * For example, white under the traditional assumption of a midday sun white\r\n * point is accurately measured as a slightly chromatic blue by CAM16. (roughly,\r\n * hue 203, chroma 3, lightness 100)\r\n */\r\nvar Cam16 = /*#__PURE__*/function () {\r\n  /**\r\n   * All of the CAM16 dimensions can be calculated from 3 of the dimensions, in\r\n   * the following combinations:\r\n   *      -  {j or q} and {c, m, or s} and hue\r\n   *      - jstar, astar, bstar\r\n   * Prefer using a static method that constructs from 3 of those dimensions.\r\n   * This constructor is intended for those methods to use to return all\r\n   * possible dimensions.\r\n   *\r\n   * @param hue\r\n   * @param chroma informally, colorfulness / color intensity. like saturation\r\n   *     in HSL, except perceptually accurate.\r\n   * @param j lightness\r\n   * @param q brightness; ratio of lightness to white point's lightness\r\n   * @param m colorfulness\r\n   * @param s saturation; ratio of chroma to white point's chroma\r\n   * @param jstar CAM16-UCS J coordinate\r\n   * @param astar CAM16-UCS a coordinate\r\n   * @param bstar CAM16-UCS b coordinate\r\n   */\r\n  function Cam16(hue, chroma, j, q, m, s, jstar, astar, bstar) {\r\n    _classCallCheck(this, Cam16);\r\n    this.hue = hue;\r\n    this.chroma = chroma;\r\n    this.j = j;\r\n    this.q = q;\r\n    this.m = m;\r\n    this.s = s;\r\n    this.jstar = jstar;\r\n    this.astar = astar;\r\n    this.bstar = bstar;\r\n  }\r\n\r\n  /**\r\n   * CAM16 instances also have coordinates in the CAM16-UCS space, called J*,\r\n   * a*, b*, or jstar, astar, bstar in code. CAM16-UCS is included in the CAM16\r\n   * specification, and is used to measure distances between colors.\r\n   */\r\n  _createClass(Cam16, [{\r\n    key: \"distance\",\r\n    value: function distance(other) {\r\n      var dJ = this.jstar - other.jstar;\r\n      var dA = this.astar - other.astar;\r\n      var dB = this.bstar - other.bstar;\r\n      var dEPrime = Math.sqrt(dJ * dJ + dA * dA + dB * dB);\r\n      var dE = 1.41 * Math.pow(dEPrime, 0.63);\r\n      return dE;\r\n    }\r\n\r\n    /**\r\n     * @param argb ARGB representation of a color.\r\n     * @return CAM16 color, assuming the color was viewed in default viewing\r\n     *     conditions.\r\n     */\r\n  }, {\r\n    key: \"toInt\",\r\n    value:\r\n    /**\r\n     *  @return ARGB representation of color, assuming the color was viewed in\r\n     *     default viewing conditions, which are near-identical to the default\r\n     *     viewing conditions for sRGB.\r\n     */\r\n    function toInt() {\r\n      return this.viewed(ViewingConditions.DEFAULT);\r\n    }\r\n\r\n    /**\r\n     * @param viewingConditions Information about the environment where the color\r\n     *     will be viewed.\r\n     * @return ARGB representation of color\r\n     */\r\n  }, {\r\n    key: \"viewed\",\r\n    value: function viewed(viewingConditions) {\r\n      var alpha = this.chroma === 0.0 || this.j === 0.0 ? 0.0 : this.chroma / Math.sqrt(this.j / 100.0);\r\n      var t = Math.pow(alpha / Math.pow(1.64 - Math.pow(0.29, viewingConditions.n), 0.73), 1.0 / 0.9);\r\n      var hRad = this.hue * Math.PI / 180.0;\r\n      var eHue = 0.25 * (Math.cos(hRad + 2.0) + 3.8);\r\n      var ac = viewingConditions.aw * Math.pow(this.j / 100.0, 1.0 / viewingConditions.c / viewingConditions.z);\r\n      var p1 = eHue * (50000.0 / 13.0) * viewingConditions.nc * viewingConditions.ncb;\r\n      var p2 = ac / viewingConditions.nbb;\r\n      var hSin = Math.sin(hRad);\r\n      var hCos = Math.cos(hRad);\r\n      var gamma = 23.0 * (p2 + 0.305) * t / (23.0 * p1 + 11.0 * t * hCos + 108.0 * t * hSin);\r\n      var a = gamma * hCos;\r\n      var b = gamma * hSin;\r\n      var rA = (460.0 * p2 + 451.0 * a + 288.0 * b) / 1403.0;\r\n      var gA = (460.0 * p2 - 891.0 * a - 261.0 * b) / 1403.0;\r\n      var bA = (460.0 * p2 - 220.0 * a - 6300.0 * b) / 1403.0;\r\n      var rCBase = Math.max(0, 27.13 * Math.abs(rA) / (400.0 - Math.abs(rA)));\r\n      var rC = math.signum(rA) * (100.0 / viewingConditions.fl) * Math.pow(rCBase, 1.0 / 0.42);\r\n      var gCBase = Math.max(0, 27.13 * Math.abs(gA) / (400.0 - Math.abs(gA)));\r\n      var gC = math.signum(gA) * (100.0 / viewingConditions.fl) * Math.pow(gCBase, 1.0 / 0.42);\r\n      var bCBase = Math.max(0, 27.13 * Math.abs(bA) / (400.0 - Math.abs(bA)));\r\n      var bC = math.signum(bA) * (100.0 / viewingConditions.fl) * Math.pow(bCBase, 1.0 / 0.42);\r\n      var rF = rC / viewingConditions.rgbD[0];\r\n      var gF = gC / viewingConditions.rgbD[1];\r\n      var bF = bC / viewingConditions.rgbD[2];\r\n      var x = 1.86206786 * rF - 1.01125463 * gF + 0.14918677 * bF;\r\n      var y = 0.38752654 * rF + 0.62144744 * gF - 0.00897398 * bF;\r\n      var z = -0.0158415 * rF - 0.03412294 * gF + 1.04996444 * bF;\r\n      var argb = utils.argbFromXyz(x, y, z);\r\n      return argb;\r\n    }\r\n\r\n    /// Given color expressed in XYZ and viewed in [viewingConditions], convert to\r\n    /// CAM16.\r\n  }, {\r\n    key: \"xyzInViewingConditions\",\r\n    value:\r\n    /// XYZ representation of CAM16 seen in [viewingConditions].\r\n    function xyzInViewingConditions(viewingConditions) {\r\n      var alpha = this.chroma === 0.0 || this.j === 0.0 ? 0.0 : this.chroma / Math.sqrt(this.j / 100.0);\r\n      var t = Math.pow(alpha / Math.pow(1.64 - Math.pow(0.29, viewingConditions.n), 0.73), 1.0 / 0.9);\r\n      var hRad = this.hue * Math.PI / 180.0;\r\n      var eHue = 0.25 * (Math.cos(hRad + 2.0) + 3.8);\r\n      var ac = viewingConditions.aw * Math.pow(this.j / 100.0, 1.0 / viewingConditions.c / viewingConditions.z);\r\n      var p1 = eHue * (50000.0 / 13.0) * viewingConditions.nc * viewingConditions.ncb;\r\n      var p2 = ac / viewingConditions.nbb;\r\n      var hSin = Math.sin(hRad);\r\n      var hCos = Math.cos(hRad);\r\n      var gamma = 23.0 * (p2 + 0.305) * t / (23.0 * p1 + 11 * t * hCos + 108.0 * t * hSin);\r\n      var a = gamma * hCos;\r\n      var b = gamma * hSin;\r\n      var rA = (460.0 * p2 + 451.0 * a + 288.0 * b) / 1403.0;\r\n      var gA = (460.0 * p2 - 891.0 * a - 261.0 * b) / 1403.0;\r\n      var bA = (460.0 * p2 - 220.0 * a - 6300.0 * b) / 1403.0;\r\n      var rCBase = Math.max(0, 27.13 * Math.abs(rA) / (400.0 - Math.abs(rA)));\r\n      var rC = math.signum(rA) * (100.0 / viewingConditions.fl) * Math.pow(rCBase, 1.0 / 0.42);\r\n      var gCBase = Math.max(0, 27.13 * Math.abs(gA) / (400.0 - Math.abs(gA)));\r\n      var gC = math.signum(gA) * (100.0 / viewingConditions.fl) * Math.pow(gCBase, 1.0 / 0.42);\r\n      var bCBase = Math.max(0, 27.13 * Math.abs(bA) / (400.0 - Math.abs(bA)));\r\n      var bC = math.signum(bA) * (100.0 / viewingConditions.fl) * Math.pow(bCBase, 1.0 / 0.42);\r\n      var rF = rC / viewingConditions.rgbD[0];\r\n      var gF = gC / viewingConditions.rgbD[1];\r\n      var bF = bC / viewingConditions.rgbD[2];\r\n      var x = 1.86206786 * rF - 1.01125463 * gF + 0.14918677 * bF;\r\n      var y = 0.38752654 * rF + 0.62144744 * gF - 0.00897398 * bF;\r\n      var z = -0.0158415 * rF - 0.03412294 * gF + 1.04996444 * bF;\r\n      return [x, y, z];\r\n    }\r\n  }], [{\r\n    key: \"fromInt\",\r\n    value: function fromInt(argb) {\r\n      return Cam16.fromIntInViewingConditions(argb, ViewingConditions.DEFAULT);\r\n    }\r\n\r\n    /**\r\n     * @param argb ARGB representation of a color.\r\n     * @param viewingConditions Information about the environment where the color\r\n     *     was observed.\r\n     * @return CAM16 color.\r\n     */\r\n  }, {\r\n    key: \"fromIntInViewingConditions\",\r\n    value: function fromIntInViewingConditions(argb, viewingConditions) {\r\n      var red = (argb & 0x00ff0000) >> 16;\r\n      var green = (argb & 0x0000ff00) >> 8;\r\n      var blue = argb & 0x000000ff;\r\n      var redL = utils.linearized(red);\r\n      var greenL = utils.linearized(green);\r\n      var blueL = utils.linearized(blue);\r\n      var x = 0.41233895 * redL + 0.35762064 * greenL + 0.18051042 * blueL;\r\n      var y = 0.2126 * redL + 0.7152 * greenL + 0.0722 * blueL;\r\n      var z = 0.01932141 * redL + 0.11916382 * greenL + 0.95034478 * blueL;\r\n      var rC = 0.401288 * x + 0.650173 * y - 0.051461 * z;\r\n      var gC = -0.250268 * x + 1.204414 * y + 0.045854 * z;\r\n      var bC = -0.002079 * x + 0.048952 * y + 0.953127 * z;\r\n      var rD = viewingConditions.rgbD[0] * rC;\r\n      var gD = viewingConditions.rgbD[1] * gC;\r\n      var bD = viewingConditions.rgbD[2] * bC;\r\n      var rAF = Math.pow(viewingConditions.fl * Math.abs(rD) / 100.0, 0.42);\r\n      var gAF = Math.pow(viewingConditions.fl * Math.abs(gD) / 100.0, 0.42);\r\n      var bAF = Math.pow(viewingConditions.fl * Math.abs(bD) / 100.0, 0.42);\r\n      var rA = math.signum(rD) * 400.0 * rAF / (rAF + 27.13);\r\n      var gA = math.signum(gD) * 400.0 * gAF / (gAF + 27.13);\r\n      var bA = math.signum(bD) * 400.0 * bAF / (bAF + 27.13);\r\n      var a = (11.0 * rA + -12.0 * gA + bA) / 11.0;\r\n      var b = (rA + gA - 2.0 * bA) / 9.0;\r\n      var u = (20.0 * rA + 20.0 * gA + 21.0 * bA) / 20.0;\r\n      var p2 = (40.0 * rA + 20.0 * gA + bA) / 20.0;\r\n      var atan2 = Math.atan2(b, a);\r\n      var atanDegrees = atan2 * 180.0 / Math.PI;\r\n      var hue = atanDegrees < 0 ? atanDegrees + 360.0 : atanDegrees >= 360 ? atanDegrees - 360.0 : atanDegrees;\r\n      var hueRadians = hue * Math.PI / 180.0;\r\n      var ac = p2 * viewingConditions.nbb;\r\n      var j = 100.0 * Math.pow(ac / viewingConditions.aw, viewingConditions.c * viewingConditions.z);\r\n      var q = 4.0 / viewingConditions.c * Math.sqrt(j / 100.0) * (viewingConditions.aw + 4.0) * viewingConditions.fLRoot;\r\n      var huePrime = hue < 20.14 ? hue + 360 : hue;\r\n      var eHue = 0.25 * (Math.cos(huePrime * Math.PI / 180.0 + 2.0) + 3.8);\r\n      var p1 = 50000.0 / 13.0 * eHue * viewingConditions.nc * viewingConditions.ncb;\r\n      var t = p1 * Math.sqrt(a * a + b * b) / (u + 0.305);\r\n      var alpha = Math.pow(t, 0.9) * Math.pow(1.64 - Math.pow(0.29, viewingConditions.n), 0.73);\r\n      var c = alpha * Math.sqrt(j / 100.0);\r\n      var m = c * viewingConditions.fLRoot;\r\n      var s = 50.0 * Math.sqrt(alpha * viewingConditions.c / (viewingConditions.aw + 4.0));\r\n      var jstar = (1.0 + 100.0 * 0.007) * j / (1.0 + 0.007 * j);\r\n      var mstar = 1.0 / 0.0228 * Math.log(1.0 + 0.0228 * m);\r\n      var astar = mstar * Math.cos(hueRadians);\r\n      var bstar = mstar * Math.sin(hueRadians);\r\n      return new Cam16(hue, c, j, q, m, s, jstar, astar, bstar);\r\n    }\r\n\r\n    /**\r\n     * @param j CAM16 lightness\r\n     * @param c CAM16 chroma\r\n     * @param h CAM16 hue\r\n     */\r\n  }, {\r\n    key: \"fromJch\",\r\n    value: function fromJch(j, c, h) {\r\n      return Cam16.fromJchInViewingConditions(j, c, h, ViewingConditions.DEFAULT);\r\n    }\r\n\r\n    /**\r\n     * @param j CAM16 lightness\r\n     * @param c CAM16 chroma\r\n     * @param h CAM16 hue\r\n     * @param viewingConditions Information about the environment where the color\r\n     *     was observed.\r\n     */\r\n  }, {\r\n    key: \"fromJchInViewingConditions\",\r\n    value: function fromJchInViewingConditions(j, c, h, viewingConditions) {\r\n      var q = 4.0 / viewingConditions.c * Math.sqrt(j / 100.0) * (viewingConditions.aw + 4.0) * viewingConditions.fLRoot;\r\n      var m = c * viewingConditions.fLRoot;\r\n      var alpha = c / Math.sqrt(j / 100.0);\r\n      var s = 50.0 * Math.sqrt(alpha * viewingConditions.c / (viewingConditions.aw + 4.0));\r\n      var hueRadians = h * Math.PI / 180.0;\r\n      var jstar = (1.0 + 100.0 * 0.007) * j / (1.0 + 0.007 * j);\r\n      var mstar = 1.0 / 0.0228 * Math.log(1.0 + 0.0228 * m);\r\n      var astar = mstar * Math.cos(hueRadians);\r\n      var bstar = mstar * Math.sin(hueRadians);\r\n      return new Cam16(h, c, j, q, m, s, jstar, astar, bstar);\r\n    }\r\n\r\n    /**\r\n     * @param jstar CAM16-UCS lightness.\r\n     * @param astar CAM16-UCS a dimension. Like a* in L*a*b*, it is a Cartesian\r\n     *     coordinate on the Y axis.\r\n     * @param bstar CAM16-UCS b dimension. Like a* in L*a*b*, it is a Cartesian\r\n     *     coordinate on the X axis.\r\n     */\r\n  }, {\r\n    key: \"fromUcs\",\r\n    value: function fromUcs(jstar, astar, bstar) {\r\n      return Cam16.fromUcsInViewingConditions(jstar, astar, bstar, ViewingConditions.DEFAULT);\r\n    }\r\n\r\n    /**\r\n     * @param jstar CAM16-UCS lightness.\r\n     * @param astar CAM16-UCS a dimension. Like a* in L*a*b*, it is a Cartesian\r\n     *     coordinate on the Y axis.\r\n     * @param bstar CAM16-UCS b dimension. Like a* in L*a*b*, it is a Cartesian\r\n     *     coordinate on the X axis.\r\n     * @param viewingConditions Information about the environment where the color\r\n     *     was observed.\r\n     */\r\n  }, {\r\n    key: \"fromUcsInViewingConditions\",\r\n    value: function fromUcsInViewingConditions(jstar, astar, bstar, viewingConditions) {\r\n      var a = astar;\r\n      var b = bstar;\r\n      var m = Math.sqrt(a * a + b * b);\r\n      var M = (Math.exp(m * 0.0228) - 1.0) / 0.0228;\r\n      var c = M / viewingConditions.fLRoot;\r\n      var h = Math.atan2(b, a) * (180.0 / Math.PI);\r\n      if (h < 0.0) {\r\n        h += 360.0;\r\n      }\r\n      var j = jstar / (1 - (jstar - 100) * 0.007);\r\n      return Cam16.fromJchInViewingConditions(j, c, h, viewingConditions);\r\n    }\r\n  }, {\r\n    key: \"fromXyzInViewingConditions\",\r\n    value: function fromXyzInViewingConditions(x, y, z, viewingConditions) {\r\n      // Transform XYZ to 'cone'/'rgb' responses\r\n\r\n      var rC = 0.401288 * x + 0.650173 * y - 0.051461 * z;\r\n      var gC = -0.250268 * x + 1.204414 * y + 0.045854 * z;\r\n      var bC = -0.002079 * x + 0.048952 * y + 0.953127 * z;\r\n\r\n      // Discount illuminant\r\n      var rD = viewingConditions.rgbD[0] * rC;\r\n      var gD = viewingConditions.rgbD[1] * gC;\r\n      var bD = viewingConditions.rgbD[2] * bC;\r\n\r\n      // chromatic adaptation\r\n      var rAF = Math.pow(viewingConditions.fl * Math.abs(rD) / 100.0, 0.42);\r\n      var gAF = Math.pow(viewingConditions.fl * Math.abs(gD) / 100.0, 0.42);\r\n      var bAF = Math.pow(viewingConditions.fl * Math.abs(bD) / 100.0, 0.42);\r\n      var rA = math.signum(rD) * 400.0 * rAF / (rAF + 27.13);\r\n      var gA = math.signum(gD) * 400.0 * gAF / (gAF + 27.13);\r\n      var bA = math.signum(bD) * 400.0 * bAF / (bAF + 27.13);\r\n\r\n      // redness-greenness\r\n      var a = (11.0 * rA + -12.0 * gA + bA) / 11.0;\r\n      // yellowness-blueness\r\n      var b = (rA + gA - 2.0 * bA) / 9.0;\r\n\r\n      // auxiliary components\r\n      var u = (20.0 * rA + 20.0 * gA + 21.0 * bA) / 20.0;\r\n      var p2 = (40.0 * rA + 20.0 * gA + bA) / 20.0;\r\n\r\n      // hue\r\n      var atan2 = Math.atan2(b, a);\r\n      var atanDegrees = atan2 * 180.0 / Math.PI;\r\n      var hue = atanDegrees < 0 ? atanDegrees + 360.0 : atanDegrees >= 360 ? atanDegrees - 360 : atanDegrees;\r\n      var hueRadians = hue * Math.PI / 180.0;\r\n\r\n      // achromatic response to color\r\n      var ac = p2 * viewingConditions.nbb;\r\n\r\n      // CAM16 lightness and brightness\r\n      var J = 100.0 * Math.pow(ac / viewingConditions.aw, viewingConditions.c * viewingConditions.z);\r\n      var Q = 4.0 / viewingConditions.c * Math.sqrt(J / 100.0) * (viewingConditions.aw + 4.0) * viewingConditions.fLRoot;\r\n      var huePrime = hue < 20.14 ? hue + 360 : hue;\r\n      var eHue = 1.0 / 4.0 * (Math.cos(huePrime * Math.PI / 180.0 + 2.0) + 3.8);\r\n      var p1 = 50000.0 / 13.0 * eHue * viewingConditions.nc * viewingConditions.ncb;\r\n      var t = p1 * Math.sqrt(a * a + b * b) / (u + 0.305);\r\n      var alpha = Math.pow(t, 0.9) * Math.pow(1.64 - Math.pow(0.29, viewingConditions.n), 0.73);\r\n      // CAM16 chroma, colorfulness, chroma\r\n      var C = alpha * Math.sqrt(J / 100.0);\r\n      var M = C * viewingConditions.fLRoot;\r\n      var s = 50.0 * Math.sqrt(alpha * viewingConditions.c / (viewingConditions.aw + 4.0));\r\n\r\n      // CAM16-UCS components\r\n      var jstar = (1.0 + 100.0 * 0.007) * J / (1.0 + 0.007 * J);\r\n      var mstar = Math.log(1.0 + 0.0228 * M) / 0.0228;\r\n      var astar = mstar * Math.cos(hueRadians);\r\n      var bstar = mstar * Math.sin(hueRadians);\r\n      return new Cam16(hue, C, J, Q, M, s, jstar, astar, bstar);\r\n    }\r\n  }]);\r\n  return Cam16;\r\n}(); // This file is automatically generated. Do not modify it.\r\n// material_color_utilities is designed to have a consistent API across\r\n// platforms and modular components that can be moved around easily. Using a\r\n// class as a namespace facilitates this.\r\n//\r\n// tslint:disable:class-as-namespace\r\n/**\r\n * A class that solves the HCT equation.\r\n */\r\nvar HctSolver = /*#__PURE__*/function () {\r\n  function HctSolver() {\r\n    _classCallCheck(this, HctSolver);\r\n  }\r\n  _createClass(HctSolver, null, [{\r\n    key: \"sanitizeRadians\",\r\n    value:\r\n    /**\r\n     * Sanitizes a small enough angle in radians.\r\n     *\r\n     * @param angle An angle in radians; must not deviate too much\r\n     * from 0.\r\n     * @return A coterminal angle between 0 and 2pi.\r\n     */\r\n    function sanitizeRadians(angle) {\r\n      return (angle + Math.PI * 8) % (Math.PI * 2);\r\n    }\r\n\r\n    /**\r\n     * Delinearizes an RGB component, returning a floating-point\r\n     * number.\r\n     *\r\n     * @param rgbComponent 0.0 <= rgb_component <= 100.0, represents\r\n     * linear R/G/B channel\r\n     * @return 0.0 <= output <= 255.0, color channel converted to\r\n     * regular RGB space\r\n     */\r\n  }, {\r\n    key: \"trueDelinearized\",\r\n    value: function trueDelinearized(rgbComponent) {\r\n      var normalized = rgbComponent / 100.0;\r\n      var delinearized = 0.0;\r\n      if (normalized <= 0.0031308) {\r\n        delinearized = normalized * 12.92;\r\n      } else {\r\n        delinearized = 1.055 * Math.pow(normalized, 1.0 / 2.4) - 0.055;\r\n      }\r\n      return delinearized * 255.0;\r\n    }\r\n  }, {\r\n    key: \"chromaticAdaptation\",\r\n    value: function chromaticAdaptation(component) {\r\n      var af = Math.pow(Math.abs(component), 0.42);\r\n      return math.signum(component) * 400.0 * af / (af + 27.13);\r\n    }\r\n\r\n    /**\r\n     * Returns the hue of a linear RGB color in CAM16.\r\n     *\r\n     * @param linrgb The linear RGB coordinates of a color.\r\n     * @return The hue of the color in CAM16, in radians.\r\n     */\r\n  }, {\r\n    key: \"hueOf\",\r\n    value: function hueOf(linrgb) {\r\n      var scaledDiscount = math.matrixMultiply(linrgb, HctSolver.SCALED_DISCOUNT_FROM_LINRGB);\r\n      var rA = HctSolver.chromaticAdaptation(scaledDiscount[0]);\r\n      var gA = HctSolver.chromaticAdaptation(scaledDiscount[1]);\r\n      var bA = HctSolver.chromaticAdaptation(scaledDiscount[2]);\r\n      // redness-greenness\r\n      var a = (11.0 * rA + -12.0 * gA + bA) / 11.0;\r\n      // yellowness-blueness\r\n      var b = (rA + gA - 2.0 * bA) / 9.0;\r\n      return Math.atan2(b, a);\r\n    }\r\n  }, {\r\n    key: \"areInCyclicOrder\",\r\n    value: function areInCyclicOrder(a, b, c) {\r\n      var deltaAB = HctSolver.sanitizeRadians(b - a);\r\n      var deltaAC = HctSolver.sanitizeRadians(c - a);\r\n      return deltaAB < deltaAC;\r\n    }\r\n\r\n    /**\r\n     * Solves the lerp equation.\r\n     *\r\n     * @param source The starting number.\r\n     * @param mid The number in the middle.\r\n     * @param target The ending number.\r\n     * @return A number t such that lerp(source, target, t) = mid.\r\n     */\r\n  }, {\r\n    key: \"intercept\",\r\n    value: function intercept(source, mid, target) {\r\n      return (mid - source) / (target - source);\r\n    }\r\n  }, {\r\n    key: \"lerpPoint\",\r\n    value: function lerpPoint(source, t, target) {\r\n      return [source[0] + (target[0] - source[0]) * t, source[1] + (target[1] - source[1]) * t, source[2] + (target[2] - source[2]) * t];\r\n    }\r\n\r\n    /**\r\n     * Intersects a segment with a plane.\r\n     *\r\n     * @param source The coordinates of point A.\r\n     * @param coordinate The R-, G-, or B-coordinate of the plane.\r\n     * @param target The coordinates of point B.\r\n     * @param axis The axis the plane is perpendicular with. (0: R, 1:\r\n     * G, 2: B)\r\n     * @return The intersection point of the segment AB with the plane\r\n     * R=coordinate, G=coordinate, or B=coordinate\r\n     */\r\n  }, {\r\n    key: \"setCoordinate\",\r\n    value: function setCoordinate(source, coordinate, target, axis) {\r\n      var t = HctSolver.intercept(source[axis], coordinate, target[axis]);\r\n      return HctSolver.lerpPoint(source, t, target);\r\n    }\r\n  }, {\r\n    key: \"isBounded\",\r\n    value: function isBounded(x) {\r\n      return 0.0 <= x && x <= 100.0;\r\n    }\r\n\r\n    /**\r\n     * Returns the nth possible vertex of the polygonal intersection.\r\n     *\r\n     * @param y The Y value of the plane.\r\n     * @param n The zero-based index of the point. 0 <= n <= 11.\r\n     * @return The nth possible vertex of the polygonal intersection\r\n     * of the y plane and the RGB cube, in linear RGB coordinates, if\r\n     * it exists. If this possible vertex lies outside of the cube,\r\n     * [-1.0, -1.0, -1.0] is returned.\r\n     */\r\n  }, {\r\n    key: \"nthVertex\",\r\n    value: function nthVertex(y, n) {\r\n      var kR = HctSolver.Y_FROM_LINRGB[0];\r\n      var kG = HctSolver.Y_FROM_LINRGB[1];\r\n      var kB = HctSolver.Y_FROM_LINRGB[2];\r\n      var coordA = n % 4 <= 1 ? 0.0 : 100.0;\r\n      var coordB = n % 2 === 0 ? 0.0 : 100.0;\r\n      if (n < 4) {\r\n        var g = coordA;\r\n        var b = coordB;\r\n        var r = (y - g * kG - b * kB) / kR;\r\n        if (HctSolver.isBounded(r)) {\r\n          return [r, g, b];\r\n        } else {\r\n          return [-1.0, -1.0, -1.0];\r\n        }\r\n      } else if (n < 8) {\r\n        var _b = coordA;\r\n        var _r = coordB;\r\n        var _g = (y - _r * kR - _b * kB) / kG;\r\n        if (HctSolver.isBounded(_g)) {\r\n          return [_r, _g, _b];\r\n        } else {\r\n          return [-1.0, -1.0, -1.0];\r\n        }\r\n      } else {\r\n        var _r2 = coordA;\r\n        var _g2 = coordB;\r\n        var _b2 = (y - _r2 * kR - _g2 * kG) / kB;\r\n        if (HctSolver.isBounded(_b2)) {\r\n          return [_r2, _g2, _b2];\r\n        } else {\r\n          return [-1.0, -1.0, -1.0];\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Finds the segment containing the desired color.\r\n     *\r\n     * @param y The Y value of the color.\r\n     * @param targetHue The hue of the color.\r\n     * @return A list of two sets of linear RGB coordinates, each\r\n     * corresponding to an endpoint of the segment containing the\r\n     * desired color.\r\n     */\r\n  }, {\r\n    key: \"bisectToSegment\",\r\n    value: function bisectToSegment(y, targetHue) {\r\n      var left = [-1.0, -1.0, -1.0];\r\n      var right = left;\r\n      var leftHue = 0.0;\r\n      var rightHue = 0.0;\r\n      var initialized = false;\r\n      var uncut = true;\r\n      for (var _n = 0; _n < 12; _n++) {\r\n        var mid = HctSolver.nthVertex(y, _n);\r\n        if (mid[0] < 0) {\r\n          continue;\r\n        }\r\n        var midHue = HctSolver.hueOf(mid);\r\n        if (!initialized) {\r\n          left = mid;\r\n          right = mid;\r\n          leftHue = midHue;\r\n          rightHue = midHue;\r\n          initialized = true;\r\n          continue;\r\n        }\r\n        if (uncut || HctSolver.areInCyclicOrder(leftHue, midHue, rightHue)) {\r\n          uncut = false;\r\n          if (HctSolver.areInCyclicOrder(leftHue, targetHue, midHue)) {\r\n            right = mid;\r\n            rightHue = midHue;\r\n          } else {\r\n            left = mid;\r\n            leftHue = midHue;\r\n          }\r\n        }\r\n      }\r\n      return [left, right];\r\n    }\r\n  }, {\r\n    key: \"midpoint\",\r\n    value: function midpoint(a, b) {\r\n      return [(a[0] + b[0]) / 2, (a[1] + b[1]) / 2, (a[2] + b[2]) / 2];\r\n    }\r\n  }, {\r\n    key: \"criticalPlaneBelow\",\r\n    value: function criticalPlaneBelow(x) {\r\n      return Math.floor(x - 0.5);\r\n    }\r\n  }, {\r\n    key: \"criticalPlaneAbove\",\r\n    value: function criticalPlaneAbove(x) {\r\n      return Math.ceil(x - 0.5);\r\n    }\r\n\r\n    /**\r\n     * Finds a color with the given Y and hue on the boundary of the\r\n     * cube.\r\n     *\r\n     * @param y The Y value of the color.\r\n     * @param targetHue The hue of the color.\r\n     * @return The desired color, in linear RGB coordinates.\r\n     */\r\n  }, {\r\n    key: \"bisectToLimit\",\r\n    value: function bisectToLimit(y, targetHue) {\r\n      var segment = HctSolver.bisectToSegment(y, targetHue);\r\n      var left = segment[0];\r\n      var leftHue = HctSolver.hueOf(left);\r\n      var right = segment[1];\r\n      for (var axis = 0; axis < 3; axis++) {\r\n        if (left[axis] !== right[axis]) {\r\n          var lPlane = -1;\r\n          var rPlane = 255;\r\n          if (left[axis] < right[axis]) {\r\n            lPlane = HctSolver.criticalPlaneBelow(HctSolver.trueDelinearized(left[axis]));\r\n            rPlane = HctSolver.criticalPlaneAbove(HctSolver.trueDelinearized(right[axis]));\r\n          } else {\r\n            lPlane = HctSolver.criticalPlaneAbove(HctSolver.trueDelinearized(left[axis]));\r\n            rPlane = HctSolver.criticalPlaneBelow(HctSolver.trueDelinearized(right[axis]));\r\n          }\r\n          for (var i = 0; i < 8; i++) {\r\n            if (Math.abs(rPlane - lPlane) <= 1) {\r\n              break;\r\n            } else {\r\n              var mPlane = Math.floor((lPlane + rPlane) / 2.0);\r\n              var midPlaneCoordinate = HctSolver.CRITICAL_PLANES[mPlane];\r\n              var mid = HctSolver.setCoordinate(left, midPlaneCoordinate, right, axis);\r\n              var midHue = HctSolver.hueOf(mid);\r\n              if (HctSolver.areInCyclicOrder(leftHue, targetHue, midHue)) {\r\n                right = mid;\r\n                rPlane = mPlane;\r\n              } else {\r\n                left = mid;\r\n                leftHue = midHue;\r\n                lPlane = mPlane;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return HctSolver.midpoint(left, right);\r\n    }\r\n  }, {\r\n    key: \"inverseChromaticAdaptation\",\r\n    value: function inverseChromaticAdaptation(adapted) {\r\n      var adaptedAbs = Math.abs(adapted);\r\n      var base = Math.max(0, 27.13 * adaptedAbs / (400.0 - adaptedAbs));\r\n      return math.signum(adapted) * Math.pow(base, 1.0 / 0.42);\r\n    }\r\n\r\n    /**\r\n     * Finds a color with the given hue, chroma, and Y.\r\n     *\r\n     * @param hueRadians The desired hue in radians.\r\n     * @param chroma The desired chroma.\r\n     * @param y The desired Y.\r\n     * @return The desired color as a hexadecimal integer, if found; 0\r\n     * otherwise.\r\n     */\r\n  }, {\r\n    key: \"findResultByJ\",\r\n    value: function findResultByJ(hueRadians, chroma, y) {\r\n      // Initial estimate of j.\r\n      var j = Math.sqrt(y) * 11.0;\r\n      // ===========================================================\r\n      // Operations inlined from Cam16 to avoid repeated calculation\r\n      // ===========================================================\r\n      var viewingConditions = ViewingConditions.DEFAULT;\r\n      var tInnerCoeff = 1 / Math.pow(1.64 - Math.pow(0.29, viewingConditions.n), 0.73);\r\n      var eHue = 0.25 * (Math.cos(hueRadians + 2.0) + 3.8);\r\n      var p1 = eHue * (50000.0 / 13.0) * viewingConditions.nc * viewingConditions.ncb;\r\n      var hSin = Math.sin(hueRadians);\r\n      var hCos = Math.cos(hueRadians);\r\n      for (var iterationRound = 0; iterationRound < 5; iterationRound++) {\r\n        // ===========================================================\r\n        // Operations inlined from Cam16 to avoid repeated calculation\r\n        // ===========================================================\r\n        var jNormalized = j / 100.0;\r\n        var alpha = chroma === 0.0 || j === 0.0 ? 0.0 : chroma / Math.sqrt(jNormalized);\r\n        var t = Math.pow(alpha * tInnerCoeff, 1.0 / 0.9);\r\n        var ac = viewingConditions.aw * Math.pow(jNormalized, 1.0 / viewingConditions.c / viewingConditions.z);\r\n        var p2 = ac / viewingConditions.nbb;\r\n        var gamma = 23.0 * (p2 + 0.305) * t / (23.0 * p1 + 11 * t * hCos + 108.0 * t * hSin);\r\n        var a = gamma * hCos;\r\n        var b = gamma * hSin;\r\n        var rA = (460.0 * p2 + 451.0 * a + 288.0 * b) / 1403.0;\r\n        var gA = (460.0 * p2 - 891.0 * a - 261.0 * b) / 1403.0;\r\n        var bA = (460.0 * p2 - 220.0 * a - 6300.0 * b) / 1403.0;\r\n        var rCScaled = HctSolver.inverseChromaticAdaptation(rA);\r\n        var gCScaled = HctSolver.inverseChromaticAdaptation(gA);\r\n        var bCScaled = HctSolver.inverseChromaticAdaptation(bA);\r\n        var linrgb = math.matrixMultiply([rCScaled, gCScaled, bCScaled], HctSolver.LINRGB_FROM_SCALED_DISCOUNT);\r\n        // ===========================================================\r\n        // Operations inlined from Cam16 to avoid repeated calculation\r\n        // ===========================================================\r\n        if (linrgb[0] < 0 || linrgb[1] < 0 || linrgb[2] < 0) {\r\n          return 0;\r\n        }\r\n        var kR = HctSolver.Y_FROM_LINRGB[0];\r\n        var kG = HctSolver.Y_FROM_LINRGB[1];\r\n        var kB = HctSolver.Y_FROM_LINRGB[2];\r\n        var fnj = kR * linrgb[0] + kG * linrgb[1] + kB * linrgb[2];\r\n        if (fnj <= 0) {\r\n          return 0;\r\n        }\r\n        if (iterationRound === 4 || Math.abs(fnj - y) < 0.002) {\r\n          if (linrgb[0] > 100.01 || linrgb[1] > 100.01 || linrgb[2] > 100.01) {\r\n            return 0;\r\n          }\r\n          return utils.argbFromLinrgb(linrgb);\r\n        }\r\n        // Iterates with Newton method,\r\n        // Using 2 * fn(j) / j as the approximation of fn'(j)\r\n        j = j - (fnj - y) * j / (2 * fnj);\r\n      }\r\n      return 0;\r\n    }\r\n\r\n    /**\r\n     * Finds an sRGB color with the given hue, chroma, and L*, if\r\n     * possible.\r\n     *\r\n     * @param hueDegrees The desired hue, in degrees.\r\n     * @param chroma The desired chroma.\r\n     * @param lstar The desired L*.\r\n     * @return A hexadecimal representing the sRGB color. The color\r\n     * has sufficiently close hue, chroma, and L* to the desired\r\n     * values, if possible; otherwise, the hue and L* will be\r\n     * sufficiently close, and chroma will be maximized.\r\n     */\r\n  }, {\r\n    key: \"solveToInt\",\r\n    value: function solveToInt(hueDegrees, chroma, lstar) {\r\n      if (chroma < 0.0001 || lstar < 0.0001 || lstar > 99.9999) {\r\n        return utils.argbFromLstar(lstar);\r\n      }\r\n      hueDegrees = math.sanitizeDegreesDouble(hueDegrees);\r\n      var hueRadians = hueDegrees / 180 * Math.PI;\r\n      var y = utils.yFromLstar(lstar);\r\n      var exactAnswer = HctSolver.findResultByJ(hueRadians, chroma, y);\r\n      if (exactAnswer !== 0) {\r\n        return exactAnswer;\r\n      }\r\n      var linrgb = HctSolver.bisectToLimit(y, hueRadians);\r\n      return utils.argbFromLinrgb(linrgb);\r\n    }\r\n\r\n    /**\r\n     * Finds an sRGB color with the given hue, chroma, and L*, if\r\n     * possible.\r\n     *\r\n     * @param hueDegrees The desired hue, in degrees.\r\n     * @param chroma The desired chroma.\r\n     * @param lstar The desired L*.\r\n     * @return An CAM16 object representing the sRGB color. The color\r\n     * has sufficiently close hue, chroma, and L* to the desired\r\n     * values, if possible; otherwise, the hue and L* will be\r\n     * sufficiently close, and chroma will be maximized.\r\n     */\r\n  }, {\r\n    key: \"solveToCam\",\r\n    value: function solveToCam(hueDegrees, chroma, lstar) {\r\n      return Cam16.fromInt(HctSolver.solveToInt(hueDegrees, chroma, lstar));\r\n    }\r\n  }]);\r\n  return HctSolver;\r\n}();\r\n_defineProperty(HctSolver, \"SCALED_DISCOUNT_FROM_LINRGB\", [[0.001200833568784504, 0.002389694492170889, 0.0002795742885861124], [0.0005891086651375999, 0.0029785502573438758, 0.0003270666104008398], [0.00010146692491640572, 0.0005364214359186694, 0.0032979401770712076]]);\r\n_defineProperty(HctSolver, \"LINRGB_FROM_SCALED_DISCOUNT\", [[1373.2198709594231, -1100.4251190754821, -7.278681089101213], [-271.815969077903, 559.6580465940733, -32.46047482791194], [1.9622899599665666, -57.173814538844006, 308.7233197812385]]);\r\n_defineProperty(HctSolver, \"Y_FROM_LINRGB\", [0.2126, 0.7152, 0.0722]);\r\n_defineProperty(HctSolver, \"CRITICAL_PLANES\", [0.015176349177441876, 0.045529047532325624, 0.07588174588720938, 0.10623444424209313, 0.13658714259697685, 0.16693984095186062, 0.19729253930674434, 0.2276452376616281, 0.2579979360165119, 0.28835063437139563, 0.3188300904430532, 0.350925934958123, 0.3848314933096426, 0.42057480301049466, 0.458183274052838, 0.4976837250274023, 0.5391024159806381, 0.5824650784040898, 0.6277969426914107, 0.6751227633498623, 0.7244668422128921, 0.775853049866786, 0.829304845476233, 0.8848452951698498, 0.942497089126609, 1.0022825574869039, 1.0642236851973577, 1.1283421258858297, 1.1946592148522128, 1.2631959812511864, 1.3339731595349034, 1.407011200216447, 1.4823302800086415, 1.5599503113873272, 1.6398909516233677, 1.7221716113234105, 1.8068114625156377, 1.8938294463134073, 1.9832442801866852, 2.075074464868551, 2.1693382909216234, 2.2660538449872063, 2.36523901573795, 2.4669114995532007, 2.5710888059345764, 2.6777882626779785, 2.7870270208169257, 2.898822059350997, 3.0131901897720907, 3.1301480604002863, 3.2497121605402226, 3.3718988244681087, 3.4967242352587946, 3.624204428461639, 3.754355295633311, 3.887192587735158, 4.022731918402185, 4.160988767090289, 4.301978482107941, 4.445716283538092, 4.592217266055746, 4.741496401646282, 4.893568542229298, 5.048448422192488, 5.20615066083972, 5.3666897647573375, 5.5300801301023865, 5.696336044816294, 5.865471690767354, 6.037501145825082, 6.212438385869475, 6.390297286737924, 6.571091626112461, 6.7548350853498045, 6.941541251256611, 7.131223617812143, 7.323895587840543, 7.5195704746346665, 7.7182615035334345, 7.919981813454504, 8.124744458384042, 8.332562408825165, 8.543448553206703, 8.757415699253682, 8.974476575321063, 9.194643831691977, 9.417930041841839, 9.644347703669503, 9.873909240696694, 10.106627003236781, 10.342513269534024, 10.58158024687427, 10.8238400726681, 11.069304815507364, 11.317986476196008, 11.569896988756009, 11.825048221409341, 12.083451977536606, 12.345119996613247, 12.610063955123938, 12.878295467455942, 13.149826086772048, 13.42466730586372, 13.702830557985108, 13.984327217668513, 14.269168601521828, 14.55736596900856, 14.848930523210871, 15.143873411576273, 15.44220572664832, 15.743938506781891, 16.04908273684337, 16.35764934889634, 16.66964922287304, 16.985093187232053, 17.30399201960269, 17.62635644741625, 17.95219714852476, 18.281524751807332, 18.614349837764564, 18.95068293910138, 19.290534541298456, 19.633915083172692, 19.98083495742689, 20.331304511189067, 20.685334046541502, 21.042933821039977, 21.404114048223256, 21.76888489811322, 22.137256497705877, 22.50923893145328, 22.884842241736916, 23.264076429332462, 23.6469514538663, 24.033477234264016, 24.42366364919083, 24.817520537484558, 25.21505769858089, 25.61628489293138, 26.021211842414342, 26.429848230738664, 26.842203703840827, 27.258287870275353, 27.678110301598522, 28.10168053274597, 28.529008062403893, 28.96010235337422, 29.39497283293396, 29.83362889318845, 30.276079891419332, 30.722335150426627, 31.172403958865512, 31.62629557157785, 32.08401920991837, 32.54558406207592, 33.010999283389665, 33.4802739966603, 33.953417292456834, 34.430438229418264, 34.911345834551085, 35.39614910352207, 35.88485700094671, 36.37747846067349, 36.87402238606382, 37.37449765026789, 37.87891309649659, 38.38727753828926, 38.89959975977785, 39.41588851594697, 39.93615253289054, 40.460400508064545, 40.98864111053629, 41.520882981230194, 42.05713473317016, 42.597404951718396, 43.141702194811224, 43.6900349931913, 44.24241185063697, 44.798841244188324, 45.35933162437017, 45.92389141541209, 46.49252901546552, 47.065252796817916, 47.64207110610409, 48.22299226451468, 48.808024568002054, 49.3971762874833, 49.9904556690408, 50.587870934119984, 51.189430279724725, 51.79514187861014, 52.40501387947288, 53.0190544071392, 53.637271562750364, 54.259673423945976, 54.88626804504493, 55.517063457223934, 56.15206766869424, 56.79128866487574, 57.43473440856916, 58.08241284012621, 58.734331877617365, 59.39049941699807, 60.05092333227251, 60.715611475655585, 61.38457167773311, 62.057811747619894, 62.7353394731159, 63.417162620860914, 64.10328893648692, 64.79372614476921, 65.48848194977529, 66.18756403501224, 66.89098006357258, 67.59873767827808, 68.31084450182222, 69.02730813691093, 69.74813616640164, 70.47333615344107, 71.20291564160104, 71.93688215501312, 72.67524319850172, 73.41800625771542, 74.16517879925733, 74.9167682708136, 75.67278210128072, 76.43322770089146, 77.1981124613393, 77.96744375590167, 78.74122893956174, 79.51947534912904, 80.30219030335869, 81.08938110306934, 81.88105503125999, 82.67721935322541, 83.4778813166706, 84.28304815182372, 85.09272707154808, 85.90692527145302, 86.72564993000343, 87.54890820862819, 88.3767072518277, 89.2090541872801, 90.04595612594655, 90.88742016217518, 91.73345337380438, 92.58406282226491, 93.43925555268066, 94.29903859396902, 95.16341895893969, 96.03240364439274, 96.9059996312159, 97.78421388448044, 98.6670533535366, 99.55452497210776]);\r\nexport var ViewingConditions = /*#__PURE__*/function () {\r\n  /**\r\n   * Parameters are intermediate values of the CAM16 conversion process. Their\r\n   * names are shorthand for technical color science terminology, this class\r\n   * would not benefit from documenting them individually. A brief overview\r\n   * is available in the CAM16 specification, and a complete overview requires\r\n   * a color science textbook, such as Fairchild's Color Appearance Models.\r\n   */\r\n  function ViewingConditions(n, aw, nbb, ncb, c, nc, rgbD, fl, fLRoot, z) {\r\n    _classCallCheck(this, ViewingConditions);\r\n    this.n = n;\r\n    this.aw = aw;\r\n    this.nbb = nbb;\r\n    this.ncb = ncb;\r\n    this.c = c;\r\n    this.nc = nc;\r\n    this.rgbD = rgbD;\r\n    this.fl = fl;\r\n    this.fLRoot = fLRoot;\r\n    this.z = z;\r\n  }\r\n  _createClass(ViewingConditions, null, [{\r\n    key: \"make\",\r\n    value:\r\n    /**\r\n     * Create ViewingConditions from a simple, physically relevant, set of\r\n     * parameters.\r\n     *\r\n     * @param whitePoint White point, measured in the XYZ color space.\r\n     *     default = D65, or sunny day afternoon\r\n     * @param adaptingLuminance The luminance of the adapting field. Informally,\r\n     *     how bright it is in the room where the color is viewed. Can be\r\n     *     calculated from lux by multiplying lux by 0.0586. default = 11.72,\r\n     *     or 200 lux.\r\n     * @param backgroundLstar The lightness of the area surrounding the color.\r\n     *     measured by L* in L*a*b*. default = 50.0\r\n     * @param surround A general description of the lighting surrounding the\r\n     *     color. 0 is pitch dark, like watching a movie in a theater. 1.0 is a\r\n     *     dimly light room, like watching TV at home at night. 2.0 means there\r\n     *     is no difference between the lighting on the color and around it.\r\n     *     default = 2.0\r\n     * @param discountingIlluminant Whether the eye accounts for the tint of the\r\n     *     ambient lighting, such as knowing an apple is still red in green light.\r\n     *     default = false, the eye does not perform this process on\r\n     *       self-luminous objects like displays.\r\n     */\r\n    function make() {\r\n      var whitePoint = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : utils.whitePointD65();\r\n      var adaptingLuminance = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 200.0 / Math.PI * utils.yFromLstar(50.0) / 100.0;\r\n      var backgroundLstar = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 50.0;\r\n      var surround = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 2.0;\r\n      var discountingIlluminant = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\r\n      var xyz = whitePoint;\r\n      var rW = xyz[0] * 0.401288 + xyz[1] * 0.650173 + xyz[2] * -0.051461;\r\n      var gW = xyz[0] * -0.250268 + xyz[1] * 1.204414 + xyz[2] * 0.045854;\r\n      var bW = xyz[0] * -0.002079 + xyz[1] * 0.048952 + xyz[2] * 0.953127;\r\n      var f = 0.8 + surround / 10.0;\r\n      var c = f >= 0.9 ? math.lerp(0.59, 0.69, (f - 0.9) * 10.0) : math.lerp(0.525, 0.59, (f - 0.8) * 10.0);\r\n      var d = discountingIlluminant ? 1.0 : f * (1.0 - 1.0 / 3.6 * Math.exp((-adaptingLuminance - 42.0) / 92.0));\r\n      d = d > 1.0 ? 1.0 : d < 0.0 ? 0.0 : d;\r\n      var nc = f;\r\n      var rgbD = [d * (100.0 / rW) + 1.0 - d, d * (100.0 / gW) + 1.0 - d, d * (100.0 / bW) + 1.0 - d];\r\n      var k = 1.0 / (5.0 * adaptingLuminance + 1.0);\r\n      var k4 = k * k * k * k;\r\n      var k4F = 1.0 - k4;\r\n      var fl = k4 * adaptingLuminance + 0.1 * k4F * k4F * Math.cbrt(5.0 * adaptingLuminance);\r\n      var n = utils.yFromLstar(backgroundLstar) / whitePoint[1];\r\n      var z = 1.48 + Math.sqrt(n);\r\n      var nbb = 0.725 / Math.pow(n, 0.2);\r\n      var ncb = nbb;\r\n      var rgbAFactors = [Math.pow(fl * rgbD[0] * rW / 100.0, 0.42), Math.pow(fl * rgbD[1] * gW / 100.0, 0.42), Math.pow(fl * rgbD[2] * bW / 100.0, 0.42)];\r\n      var rgbA = [400.0 * rgbAFactors[0] / (rgbAFactors[0] + 27.13), 400.0 * rgbAFactors[1] / (rgbAFactors[1] + 27.13), 400.0 * rgbAFactors[2] / (rgbAFactors[2] + 27.13)];\r\n      var aw = (2.0 * rgbA[0] + rgbA[1] + 0.05 * rgbA[2]) * nbb;\r\n      return new ViewingConditions(n, aw, nbb, ncb, c, nc, rgbD, fl, Math.pow(fl, 0.25), z);\r\n    }\r\n  }]);\r\n  return ViewingConditions;\r\n}();\r\n_class2 = ViewingConditions;\r\n/**\r\n * sRGB-like viewing conditions.\r\n */\r\n_defineProperty(ViewingConditions, \"DEFAULT\", _class2.make());", "import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/createClass\";\r\n/**\r\n * Below lines are copied from @material/material-color-utilities.\r\n * Do not modify it.\r\n */\r\n\r\n/**\r\n * @license\r\n * Copyright 2022 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n// material_color_utilities is designed to have a consistent API across\r\n// platforms and modular components that can be moved around easily. Using a\r\n// class as a namespace facilitates this.\r\n//\r\n// tslint:disable:class-as-namespace\r\n\r\nimport * as utils from './color-utils';\r\nimport * as math from './math-utils';\r\n\r\n/**\r\n * Utility methods for calculating contrast given two colors, or calculating a\r\n * color given one color and a contrast ratio.\r\n *\r\n * Contrast ratio is calculated using XYZ's Y. When linearized to match human\r\n * perception, Y becomes HCT's tone and L*a*b*'s' L*. Informally, this is the\r\n * lightness of a color.\r\n *\r\n * Methods refer to tone, T in the the HCT color space.\r\n * Tone is equivalent to L* in the L*a*b* color space, or L in the LCH color\r\n * space.\r\n */\r\nexport var Contrast = /*#__PURE__*/function () {\r\n  function Contrast() {\r\n    _classCallCheck(this, Contrast);\r\n  }\r\n  _createClass(Contrast, null, [{\r\n    key: \"ratioOfTones\",\r\n    value:\r\n    /**\r\n     * Returns a contrast ratio, which ranges from 1 to 21.\r\n     *\r\n     * @param toneA Tone between 0 and 100. Values outside will be clamped.\r\n     * @param toneB Tone between 0 and 100. Values outside will be clamped.\r\n     */\r\n    function ratioOfTones(toneA, toneB) {\r\n      toneA = math.clampDouble(0.0, 100.0, toneA);\r\n      toneB = math.clampDouble(0.0, 100.0, toneB);\r\n      return Contrast.ratioOfYs(utils.yFromLstar(toneA), utils.yFromLstar(toneB));\r\n    }\r\n  }, {\r\n    key: \"ratioOfYs\",\r\n    value: function ratioOfYs(y1, y2) {\r\n      var lighter = y1 > y2 ? y1 : y2;\r\n      var darker = lighter === y2 ? y1 : y2;\r\n      return (lighter + 5.0) / (darker + 5.0);\r\n    }\r\n\r\n    /**\r\n     * Returns a tone >= tone parameter that ensures ratio parameter.\r\n     * Return value is between 0 and 100.\r\n     * Returns -1 if ratio cannot be achieved with tone parameter.\r\n     *\r\n     * @param tone Tone return value must contrast with.\r\n     * Range is 0 to 100. Invalid values will result in -1 being returned.\r\n     * @param ratio Contrast ratio of return value and tone.\r\n     * Range is 1 to 21, invalid values have undefined behavior.\r\n     */\r\n  }, {\r\n    key: \"lighter\",\r\n    value: function lighter(tone, ratio) {\r\n      if (tone < 0.0 || tone > 100.0) {\r\n        return -1.0;\r\n      }\r\n      var darkY = utils.yFromLstar(tone);\r\n      var lightY = ratio * (darkY + 5.0) - 5.0;\r\n      var realContrast = Contrast.ratioOfYs(lightY, darkY);\r\n      var delta = Math.abs(realContrast - ratio);\r\n      if (realContrast < ratio && delta > 0.04) {\r\n        return -1;\r\n      }\r\n\r\n      // Ensure gamut mapping, which requires a 'range' on tone, will still result\r\n      // the correct ratio by darkening slightly.\r\n      var returnValue = utils.lstarFromY(lightY) + 0.4;\r\n      if (returnValue < 0 || returnValue > 100) {\r\n        return -1;\r\n      }\r\n      return returnValue;\r\n    }\r\n\r\n    /**\r\n     * Returns a tone <= tone parameter that ensures ratio parameter.\r\n     * Return value is between 0 and 100.\r\n     * Returns -1 if ratio cannot be achieved with tone parameter.\r\n     *\r\n     * @param tone Tone return value must contrast with.\r\n     * Range is 0 to 100. Invalid values will result in -1 being returned.\r\n     * @param ratio Contrast ratio of return value and tone.\r\n     * Range is 1 to 21, invalid values have undefined behavior.\r\n     */\r\n  }, {\r\n    key: \"darker\",\r\n    value: function darker(tone, ratio) {\r\n      if (tone < 0.0 || tone > 100.0) {\r\n        return -1.0;\r\n      }\r\n      var lightY = utils.yFromLstar(tone);\r\n      var darkY = (lightY + 5.0) / ratio - 5.0;\r\n      var realContrast = Contrast.ratioOfYs(lightY, darkY);\r\n      var delta = Math.abs(realContrast - ratio);\r\n      if (realContrast < ratio && delta > 0.04) {\r\n        return -1;\r\n      }\r\n\r\n      // Ensure gamut mapping, which requires a 'range' on tone, will still result\r\n      // the correct ratio by darkening slightly.\r\n      var returnValue = utils.lstarFromY(darkY) - 0.4;\r\n      if (returnValue < 0 || returnValue > 100) {\r\n        return -1;\r\n      }\r\n      return returnValue;\r\n    }\r\n\r\n    /**\r\n     * Returns a tone >= tone parameter that ensures ratio parameter.\r\n     * Return value is between 0 and 100.\r\n     * Returns 100 if ratio cannot be achieved with tone parameter.\r\n     *\r\n     * This method is unsafe because the returned value is guaranteed to be in\r\n     * bounds for tone, i.e. between 0 and 100. However, that value may not reach\r\n     * the ratio with tone. For example, there is no color lighter than T100.\r\n     *\r\n     * @param tone Tone return value must contrast with.\r\n     * Range is 0 to 100. Invalid values will result in 100 being returned.\r\n     * @param ratio Desired contrast ratio of return value and tone parameter.\r\n     * Range is 1 to 21, invalid values have undefined behavior.\r\n     */\r\n  }, {\r\n    key: \"lighterUnsafe\",\r\n    value: function lighterUnsafe(tone, ratio) {\r\n      var lighterSafe = Contrast.lighter(tone, ratio);\r\n      return lighterSafe < 0.0 ? 100.0 : lighterSafe;\r\n    }\r\n\r\n    /**\r\n     * Returns a tone >= tone parameter that ensures ratio parameter.\r\n     * Return value is between 0 and 100.\r\n     * Returns 100 if ratio cannot be achieved with tone parameter.\r\n     *\r\n     * This method is unsafe because the returned value is guaranteed to be in\r\n     * bounds for tone, i.e. between 0 and 100. However, that value may not reach\r\n     * the [ratio with [tone]. For example, there is no color darker than T0.\r\n     *\r\n     * @param tone Tone return value must contrast with.\r\n     * Range is 0 to 100. Invalid values will result in 0 being returned.\r\n     * @param ratio Desired contrast ratio of return value and tone parameter.\r\n     * Range is 1 to 21, invalid values have undefined behavior.\r\n     */\r\n  }, {\r\n    key: \"darkerUnsafe\",\r\n    value: function darkerUnsafe(tone, ratio) {\r\n      var darkerSafe = Contrast.darker(tone, ratio);\r\n      return darkerSafe < 0.0 ? 0.0 : darkerSafe;\r\n    }\r\n  }]);\r\n  return Contrast;\r\n}();", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\r\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\r\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\r\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\r\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\r\nimport rawTokensDark from '../artifacts/atlassian-dark-token-value-for-contrast-check';\r\nimport { deltaE, getContrastRatio, hexToHSL, hexToRgb, hexToRgbA, HSLToRGB, relativeLuminanceW3C, rgbToHex } from './color-utils';\r\nimport { additionalContrastChecker } from './custom-theme-token-contrast-check';\r\nimport { argbFromRgba, Contrast, Hct, rgbaFromArgb } from './hct-color-utils';\r\nvar lowLuminanceContrastRatios = [1.12, 1.33, 2.03, 2.73, 3.33, 4.27, 5.2, 6.62, 12.46, 14.25];\r\nvar highLuminanceContrastRatios = [1.08, 1.24, 1.55, 1.99, 2.45, 3.34, 4.64, 6.1, 10.19, 12.6];\r\nexport var getClosestColorIndex = function getClosestColorIndex(themeRamp, brandColor) {\r\n  // Iterate over themeRamp and find whichever color is closest to brandColor\r\n  var closestColorIndex = 0;\r\n  var closestColorDistance = null;\r\n  themeRamp.forEach(function (value, index) {\r\n    var distance = deltaE(hexToRgb(value), hexToRgb(brandColor));\r\n    if (closestColorDistance === null || distance < closestColorDistance) {\r\n      closestColorIndex = index;\r\n      closestColorDistance = distance;\r\n    }\r\n  });\r\n  return closestColorIndex;\r\n};\r\nexport var generateColors = function generateColors(brandColor) {\r\n  // Determine luminance\r\n  var HSLBrandColorHue = hexToHSL(brandColor)[0];\r\n  var baseRgb = HSLToRGB(HSLBrandColorHue, 100, 60);\r\n  var isLowLuminance = relativeLuminanceW3C(baseRgb[0], baseRgb[1], baseRgb[2]) < 0.4;\r\n  // Choose right palette\r\n  var themeRatios = isLowLuminance ? lowLuminanceContrastRatios : highLuminanceContrastRatios;\r\n  var brandRgba = hexToRgbA(brandColor);\r\n  var hctColor = Hct.fromInt(argbFromRgba({\r\n    r: brandRgba[0],\r\n    g: brandRgba[1],\r\n    b: brandRgba[2],\r\n    a: brandRgba[3]\r\n  }));\r\n  var themeRamp = themeRatios.map(function (contrast) {\r\n    var rgbaColor = rgbaFromArgb(Hct.from(hctColor.hue, hctColor.chroma, Contrast.darker(100, contrast) + 0.25 // Material's utils provide an offset\r\n    ).toInt());\r\n    return rgbToHex(rgbaColor.r, rgbaColor.g, rgbaColor.b);\r\n  });\r\n  var closestColorIndex = getClosestColorIndex(themeRamp, brandColor);\r\n\r\n  // Replace closet color with brandColor\r\n  var updatedThemeRamp = _toConsumableArray(themeRamp);\r\n  updatedThemeRamp[closestColorIndex] = brandColor;\r\n  return {\r\n    ramp: updatedThemeRamp,\r\n    // add the replaced color into the result\r\n    replacedColor: themeRamp[closestColorIndex]\r\n  };\r\n};\r\n\r\n/**\r\n * Return the interaction tokens for a color, given its ramp position and the number of\r\n * needed interaction states. Use higher-indexed colors (i.e. darker colors) if possible;\r\n * if there's not enough room to shift up for the required number of interaction tokens,\r\n * it goes as far as it can, then returns lighter colors lower down the ramp instead.\r\n *\r\n * Returns an array of the resulting colors\r\n */\r\nfunction getInteractionStates(rampPosition, number, colors) {\r\n  var result = [];\r\n  for (var i = 1; i <= number; i++) {\r\n    if (rampPosition + i < colors.length) {\r\n      result.push(rampPosition + i);\r\n    } else {\r\n      result.push(rampPosition - (i - (colors.length - 1 - rampPosition)));\r\n    }\r\n  }\r\n  return result;\r\n}\r\nexport var generateTokenMap = function generateTokenMap(brandColor, mode, themeRamp) {\r\n  var _generateColors = generateColors(brandColor),\r\n    ramp = _generateColors.ramp,\r\n    replacedColor = _generateColors.replacedColor;\r\n  var colors = themeRamp || ramp;\r\n  var closestColorIndex = getClosestColorIndex(colors, brandColor);\r\n  var customThemeTokenMapLight = {};\r\n  var customThemeTokenMapDark = {};\r\n  var inputContrast = getContrastRatio(brandColor, '#FFFFFF');\r\n  // Branch based on brandColor's contrast against white\r\n  if (inputContrast >= 4.5) {\r\n    /**\r\n     * Generate interaction tokens for\r\n     * - color.background.brand.bold\r\n     * - color.background.selected.bold\r\n     */\r\n    var _getInteractionStates = getInteractionStates(closestColorIndex, 2, colors),\r\n      _getInteractionStates2 = _slicedToArray(_getInteractionStates, 2),\r\n      brandBoldSelectedHoveredIndex = _getInteractionStates2[0],\r\n      brandBoldSelectedPressedIndex = _getInteractionStates2[1];\r\n    var brandTextIndex = closestColorIndex;\r\n    if (inputContrast < 5.4 && inputContrast >= 4.8 && closestColorIndex === 6) {\r\n      // Use the one-level darker closest color (X800) for color.text.brand\r\n      // and color.link to avoid contrast breaches\r\n      brandTextIndex = closestColorIndex + 1;\r\n    }\r\n\r\n    /**\r\n     * Generate interaction token for color.link:\r\n     * If inputted color replaces X1000\r\n     * - Pressed = X900\r\n     *\r\n     * If inputted color replaces X700-X900\r\n     * - Shift one 1 step darker\r\n     */\r\n    var _getInteractionStates3 = getInteractionStates(brandTextIndex, 1, colors),\r\n      _getInteractionStates4 = _slicedToArray(_getInteractionStates3, 1),\r\n      linkPressed = _getInteractionStates4[0];\r\n    customThemeTokenMapLight = {\r\n      'color.text.brand': brandTextIndex,\r\n      'color.icon.brand': closestColorIndex,\r\n      'color.background.brand.subtlest': 0,\r\n      'color.background.brand.subtlest.hovered': 1,\r\n      'color.background.brand.subtlest.pressed': 2,\r\n      'color.background.brand.bold': closestColorIndex,\r\n      'color.background.brand.bold.hovered': brandBoldSelectedHoveredIndex,\r\n      'color.background.brand.bold.pressed': brandBoldSelectedPressedIndex,\r\n      'color.background.brand.boldest': 9,\r\n      'color.background.brand.boldest.hovered': 8,\r\n      'color.background.brand.boldest.pressed': 7,\r\n      'color.border.brand': closestColorIndex,\r\n      'color.text.selected': brandTextIndex,\r\n      'color.icon.selected': closestColorIndex,\r\n      'color.background.selected.bold': closestColorIndex,\r\n      'color.background.selected.bold.hovered': brandBoldSelectedHoveredIndex,\r\n      'color.background.selected.bold.pressed': brandBoldSelectedPressedIndex,\r\n      'color.border.selected': closestColorIndex,\r\n      'color.link': brandTextIndex,\r\n      'color.link.pressed': linkPressed,\r\n      'color.chart.brand': 5,\r\n      'color.chart.brand.hovered': 6,\r\n      'color.background.selected': 0,\r\n      'color.background.selected.hovered': 1,\r\n      'color.background.selected.pressed': 2\r\n    };\r\n  } else {\r\n    var brandBackgroundIndex = 6;\r\n    if (inputContrast < 4.5 && inputContrast >= 4 && closestColorIndex === 6) {\r\n      // Use the generated closest color instead of the input brand color for\r\n      // color.background.selected.bold and color.background.brand.bold\r\n      // to avoid contrast breaches\r\n      brandBackgroundIndex = replacedColor;\r\n    }\r\n    customThemeTokenMapLight = {\r\n      'color.background.brand.subtlest': 0,\r\n      'color.background.brand.subtlest.hovered': 1,\r\n      'color.background.brand.subtlest.pressed': 2,\r\n      'color.background.brand.bold': brandBackgroundIndex,\r\n      'color.background.brand.bold.hovered': 7,\r\n      'color.background.brand.bold.pressed': 8,\r\n      'color.background.brand.boldest': 9,\r\n      'color.background.brand.boldest.hovered': 8,\r\n      'color.background.brand.boldest.pressed': 7,\r\n      'color.border.brand': 6,\r\n      'color.background.selected.bold': brandBackgroundIndex,\r\n      'color.background.selected.bold.hovered': 7,\r\n      'color.background.selected.bold.pressed': 8,\r\n      'color.text.brand': 6,\r\n      'color.icon.brand': 6,\r\n      'color.chart.brand': 5,\r\n      'color.chart.brand.hovered': 6,\r\n      'color.text.selected': 6,\r\n      'color.icon.selected': 6,\r\n      'color.border.selected': 6,\r\n      'color.background.selected': 0,\r\n      'color.background.selected.hovered': 1,\r\n      'color.background.selected.pressed': 2,\r\n      'color.link': 6,\r\n      'color.link.pressed': 7\r\n    };\r\n  }\r\n  if (mode === 'light') {\r\n    return {\r\n      light: customThemeTokenMapLight\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Generate dark mode values using rule of symmetry\r\n   */\r\n  Object.entries(customThemeTokenMapLight).forEach(function (_ref) {\r\n    var _ref2 = _slicedToArray(_ref, 2),\r\n      key = _ref2[0],\r\n      value = _ref2[1];\r\n    customThemeTokenMapDark[key] = 9 - (typeof value === 'string' ? closestColorIndex : value);\r\n  });\r\n\r\n  /**\r\n   * If the input brand color < 4.5, and it meets 4.5 contrast again inverse text color\r\n   * in dark mode, shift color.background.brand.bold to the brand color\r\n   */\r\n  if (inputContrast < 4.5) {\r\n    var inverseTextColor = rawTokensDark['color.text.inverse'];\r\n    if (getContrastRatio(inverseTextColor, brandColor) >= 4.5 && closestColorIndex >= 2) {\r\n      customThemeTokenMapDark['color.background.brand.bold'] = closestColorIndex;\r\n      customThemeTokenMapDark['color.background.brand.bold.hovered'] = closestColorIndex - 1;\r\n      customThemeTokenMapDark['color.background.brand.bold.pressed'] = closestColorIndex - 2;\r\n    }\r\n  }\r\n  if (mode === 'dark') {\r\n    return {\r\n      dark: customThemeTokenMapDark\r\n    };\r\n  }\r\n  return {\r\n    light: customThemeTokenMapLight,\r\n    dark: customThemeTokenMapDark\r\n  };\r\n};\r\nexport var generateTokenMapWithContrastCheck = function generateTokenMapWithContrastCheck(brandColor, mode, themeRamp) {\r\n  var colors = themeRamp || generateColors(brandColor).ramp;\r\n  var tokenMaps = generateTokenMap(brandColor, mode, colors);\r\n  var result = {};\r\n  Object.entries(tokenMaps).forEach(function (_ref3) {\r\n    var _ref4 = _slicedToArray(_ref3, 2),\r\n      mode = _ref4[0],\r\n      map = _ref4[1];\r\n    if (mode === 'light' || mode === 'dark') {\r\n      result[mode] = _objectSpread(_objectSpread({}, map), additionalContrastChecker({\r\n        customThemeTokenMap: map,\r\n        mode: mode,\r\n        themeRamp: colors\r\n      }));\r\n    }\r\n  });\r\n  return result;\r\n};", "import { COLOR_MODE_ATTRIBUTE, CUSTOM_THEME_ATTRIBUTE } from './constants';\r\nimport { themeStateDefaults } from './theme-config';\r\nimport { limitSizeOfCustomStyleElements, reduceTokenMap } from './utils/custom-theme-loading-utils';\r\nimport { generateColors, generateTokenMapWithContrastCheck } from './utils/generate-custom-color-ramp';\r\nimport { hash } from './utils/hash';\r\nexport var CUSTOM_STYLE_ELEMENTS_SIZE_THRESHOLD = 10;\r\n\r\n/**\r\n *\r\n * @param themeSchema The schema of available themes\r\n * @returns a string with the CSS for the custom theme\r\n */\r\n/**\r\n * Takes a color mode and custom branding options, and returns an array of objects for use in applying custom styles to the document head.\r\n * Only supplies the color themes necessary for initial render, based on the current themeState. I.e. if in light mode, dark mode themes are not returned.\r\n *\r\n * @param {Object<string, string>} themeState The themes and color mode that should be applied.\r\n * @param {string} themeState.colorMode Determines which color theme is applied\r\n * @param {Object} themeState.UNSAFE_themeOptions The custom branding options to be used for custom theme generation\r\n *\r\n * @returns An object array, containing theme IDs, data-attributes to attach to the theme, and the theme CSS.\r\n * If an error is encountered while loading themes, the themes array will be empty.\r\n */\r\nexport function getCustomThemeStyles(themeState) {\r\n  var _themeState$UNSAFE_th;\r\n  var brandColor = themeState === null || themeState === void 0 || (_themeState$UNSAFE_th = themeState.UNSAFE_themeOptions) === null || _themeState$UNSAFE_th === void 0 ? void 0 : _themeState$UNSAFE_th.brandColor;\r\n  var mode = (themeState === null || themeState === void 0 ? void 0 : themeState.colorMode) || themeStateDefaults['colorMode'];\r\n  var optionString = JSON.stringify(themeState === null || themeState === void 0 ? void 0 : themeState.UNSAFE_themeOptions);\r\n  var uniqueId = hash(optionString);\r\n  var themeRamp = generateColors(brandColor).ramp;\r\n\r\n  // outputs object to generate to CSS from\r\n  var themes = [];\r\n  var tokenMaps = generateTokenMapWithContrastCheck(brandColor, mode, themeRamp);\r\n  if ((mode === 'light' || mode === 'auto') && tokenMaps.light) {\r\n    // Light mode theming\r\n    themes.push({\r\n      id: 'light',\r\n      attrs: {\r\n        'data-theme': 'light',\r\n        'data-custom-theme': uniqueId\r\n      },\r\n      css: \"\\nhtml[\".concat(CUSTOM_THEME_ATTRIBUTE, \"=\\\"\").concat(uniqueId, \"\\\"][\").concat(COLOR_MODE_ATTRIBUTE, \"=\\\"light\\\"][data-theme~=\\\"light:light\\\"] {\\n  /* Branded tokens */\\n    \").concat(reduceTokenMap(tokenMaps.light, themeRamp), \"\\n}\")\r\n    });\r\n  }\r\n  if ((mode === 'dark' || mode === 'auto') && tokenMaps.dark) {\r\n    // Dark mode theming\r\n    themes.push({\r\n      id: 'dark',\r\n      attrs: {\r\n        'data-theme': 'dark',\r\n        'data-custom-theme': uniqueId\r\n      },\r\n      css: \"\\nhtml[\".concat(CUSTOM_THEME_ATTRIBUTE, \"=\\\"\").concat(uniqueId, \"\\\"][\").concat(COLOR_MODE_ATTRIBUTE, \"=\\\"dark\\\"][data-theme~=\\\"dark:dark\\\"] {\\n  /* Branded tokens */\\n    \").concat(reduceTokenMap(tokenMaps.dark, themeRamp), \"\\n}\")\r\n    });\r\n  }\r\n  return themes;\r\n}\r\nexport function loadAndAppendCustomThemeCss(themeState) {\r\n  var themes = getCustomThemeStyles(themeState);\r\n  limitSizeOfCustomStyleElements(CUSTOM_STYLE_ELEMENTS_SIZE_THRESHOLD);\r\n  themes.map(function (theme) {\r\n    var styleTag = document.createElement('style');\r\n    document.head.appendChild(styleTag);\r\n    styleTag.dataset.theme = theme.attrs['data-theme'];\r\n    styleTag.dataset.customTheme = theme.attrs['data-custom-theme'];\r\n    styleTag.textContent = theme.css;\r\n  });\r\n}"],
  "mappings": "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B,qBAAqB,oBAAoB,mBAAmB,oBAAoB,qBAAqB,mBAAmB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,mBAAmB,mBAAmB,oBAAoB,mBAAmB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,mBAAmB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,mBAAmB,oBAAoB,oBAAoB,kBAAkB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,mBAAmB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,kBAAkB,oBAAoB,oBAAoB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,oBAAoB,mBAAmB,mBAAmB,mBAAmB,oBAAoB,oBAAoB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,oBAAoB,oBAAoB,mBAAmB,kBAAkB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,mBAAmB,oBAAoB,oBAAoB,oBAAoB,mBAAmB,oBAAoB,oBAAoB,mBAAmB,oBAAoB,mBAAmB,mBAAmB,mBAAmB,oBAAoB,mBAAmB,mBAAmB,mBAAmB,oBAAoB,oBAAoB,mBAAmB,oBAAoB,oBAAoB,mBAAmB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,mBAAmB,oBAAoB,mBAAmB,oBAAoB,oBAAoB,kBAAkB,oBAAoB,mBAAmB,oBAAoB,mBAAmB,mBAAmB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,oBAAoB,mBAAmB,oBAAoB,mBAAmB,mBAAmB,mBAAmB,oBAAoB,oBAAoB,oBAAoB,mBAAmB,mBAAmB,mBAAmB,oBAAoB,kBAAkB,oBAAoB,oBAAoB,oBAAoB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,mBAAmB,oBAAoB,mBAAmB,oBAAoB,mBAAmB,oBAAoB,oBAAoB,kBAAkB,mBAAmB,oBAAoB,mBAAmB,m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",
  "names": ["tokenValues", "getColorFromTokenRaw", "additionalContrastChecker", "delinearized", "Hct", "Cam16", "HctSolver", "delinearized", "ViewingConditions", "Contrast", "r", "getClosestColorIndex", "generateColors", "generateTokenMap", "generateTokenMapWithContrastCheck", "mode"]
}
